var rt=Object.defineProperty;var ot=(e,t,n)=>t in e?rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ie=(e,t,n)=>ot(e,typeof t!="symbol"?t+"":t,n);import{i as it,s as st}from"./index2.js";import{u as at}from"./index3.js";function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,typeof(o=function(i,s){if(typeof i!="object"||i===null)return i;var a=i[Symbol.toPrimitive];if(a!==void 0){var c=a.call(i,"string");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(r.key))=="symbol"?o:String(o),r)}var o}function Pe(e,t,n){return t&&ct(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function de(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,oe(e,t)}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ye(e)}function oe(e,t){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},oe(e,t)}function lt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ee(e,t,n){return Ee=lt()?Reflect.construct.bind():function(r,o,i){var s=[null];s.push.apply(s,o);var a=new(Function.bind.apply(r,s));return i&&oe(a,i.prototype),a},Ee.apply(null,arguments)}function be(e){var t=typeof Map=="function"?new Map:void 0;return be=function(n){if(n===null||Function.toString.call(n).indexOf("[native code]")===-1)return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return Ee(n,arguments,ye(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),oe(r,n)},be(e)}function ut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var j,ft=function(){this.before=void 0,this.beforeLeave=void 0,this.leave=void 0,this.afterLeave=void 0,this.beforeEnter=void 0,this.enter=void 0,this.afterEnter=void 0,this.after=void 0};(function(e){e[e.off=0]="off",e[e.error=1]="error",e[e.warning=2]="warning",e[e.info=3]="info",e[e.debug=4]="debug"})(j||(j={}));var qe=j.off,z=function(){function e(n){this.t=void 0,this.t=n}e.getLevel=function(){return qe},e.setLevel=function(n){return qe=j[n]};var t=e.prototype;return t.error=function(){this.i(console.error,j.error,[].slice.call(arguments))},t.warn=function(){this.i(console.warn,j.warning,[].slice.call(arguments))},t.info=function(){this.i(console.info,j.info,[].slice.call(arguments))},t.debug=function(){this.i(console.log,j.debug,[].slice.call(arguments))},t.i=function(n,r,o){r<=e.getLevel()&&n.apply(console,["["+this.t+"] "].concat(o))},e}();function X(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function ke(e){return e&&e.sensitive?"":"i"}var F={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},Z=new(function(){function e(){this.o=F,this.u=void 0,this.h={after:null,before:null,parent:null}}var t=e.prototype;return t.toString=function(n){return n.outerHTML},t.toDocument=function(n){return this.u||(this.u=new DOMParser),this.u.parseFromString(n,"text/html")},t.toElement=function(n){var r=document.createElement("div");return r.innerHTML=n,r},t.getHtml=function(n){return n===void 0&&(n=document),this.toString(n.documentElement)},t.getWrapper=function(n){return n===void 0&&(n=document),n.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},t.getContainer=function(n){return n===void 0&&(n=document),n.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},t.removeContainer=function(n){document.body.contains(n)&&(this.v(n),n.parentNode.removeChild(n))},t.addContainer=function(n,r){var o=this.getContainer()||this.h.before;o?this.l(n,o):this.h.after?this.h.after.parentNode.insertBefore(n,this.h.after):this.h.parent?this.h.parent.appendChild(n):r.appendChild(n)},t.getSibling=function(){return this.h},t.getNamespace=function(n){n===void 0&&(n=document);var r=n.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return r?r.getAttribute(this.o.prefix+"-"+this.o.namespace):null},t.getHref=function(n){if(n.tagName&&n.tagName.toLowerCase()==="a"){if(typeof n.href=="string")return n.href;var r=n.getAttribute("href")||n.getAttribute("xlink:href");if(r)return this.resolveUrl(r.baseVal||r)}return null},t.resolveUrl=function(){var n=[].slice.call(arguments).length;if(n===0)throw new Error("resolveUrl requires at least one argument; got none.");var r=document.createElement("base");if(r.href=arguments[0],n===1)return r.href;var o=document.getElementsByTagName("head")[0];o.insertBefore(r,o.firstChild);for(var i,s=document.createElement("a"),a=1;a<n;a++)s.href=arguments[a],r.href=i=s.href;return o.removeChild(r),i},t.l=function(n,r){r.parentNode.insertBefore(n,r.nextSibling)},t.v=function(n){return this.h={after:n.nextElementSibling,before:n.previousElementSibling,parent:n.parentElement},this.h},e}()),ht=function(){function e(){this.p=void 0,this.m=[],this.P=-1}var t=e.prototype;return t.init=function(n,r){this.p="barba";var o={data:{},ns:r,scroll:{x:window.scrollX,y:window.scrollY},url:n};this.P=0,this.m.push(o);var i={from:this.p,index:this.P,states:[].concat(this.m)};window.history&&window.history.replaceState(i,"",n)},t.change=function(n,r,o){if(o&&o.state){var i=o.state,s=i.index;r=this.g(this.P-s),this.replace(i.states),this.P=s}else this.add(n,r);return r},t.add=function(n,r,o,i){var s=o??this.R(r),a={data:i??{},ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:n};switch(s){case"push":this.P=this.size,this.m.push(a);break;case"replace":this.set(this.P,a)}var c={from:this.p,index:this.P,states:[].concat(this.m)};switch(s){case"push":window.history&&window.history.pushState(c,"",n);break;case"replace":window.history&&window.history.replaceState(c,"",n)}},t.store=function(n,r){var o=r||this.P,i=this.get(o);i.data=H({},i.data,n),this.set(o,i);var s={from:this.p,index:this.P,states:[].concat(this.m)};window.history.replaceState(s,"")},t.update=function(n,r){var o=r||this.P,i=H({},this.get(o),n);this.set(o,i)},t.remove=function(n){n?this.m.splice(n,1):this.m.pop(),this.P--},t.clear=function(){this.m=[],this.P=-1},t.replace=function(n){this.m=n},t.get=function(n){return this.m[n]},t.set=function(n,r){return this.m[n]=r},t.R=function(n){var r="push",o=n,i=F.prefix+"-"+F.history;return o.hasAttribute&&o.hasAttribute(i)&&(r=o.getAttribute(i)),r},t.g=function(n){return Math.abs(n)>1?n>0?"forward":"back":n===0?"popstate":n>0?"back":"forward"},Pe(e,[{key:"current",get:function(){return this.m[this.P]}},{key:"previous",get:function(){return this.P<1?null:this.m[this.P-1]}},{key:"size",get:function(){return this.m.length}}]),e}(),Ue=new ht,ue=function(e,t){try{var n=function(){if(!t.next.html)return Promise.resolve(e).then(function(r){var o=t.next;if(r){var i=Z.toElement(r.html);o.namespace=Z.getNamespace(i),o.container=Z.getContainer(i),o.url=r.url,o.html=r.html,Ue.update({ns:o.namespace});var s=Z.toDocument(r.html);document.title=s.title}})}();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(r){return Promise.reject(r)}},He=function e(t,n,r){return t instanceof RegExp?function(o,i){if(!i)return o;for(var s=/\((?:\?<(.*?)>)?(?!\?)/g,a=0,c=s.exec(o.source);c;)i.push({name:c[1]||a++,prefix:"",suffix:"",modifier:"",pattern:""}),c=s.exec(o.source);return o}(t,n):Array.isArray(t)?function(o,i,s){var a=o.map(function(c){return e(c,i,s).source});return new RegExp("(?:".concat(a.join("|"),")"),ke(s))}(t,n,r):function(o,i,s){return function(a,c,l){l===void 0&&(l={});for(var u=l.strict,h=u!==void 0&&u,f=l.start,d=f===void 0||f,p=l.end,m=p===void 0||p,v=l.encode,y=v===void 0?function(Q){return Q}:v,L=l.delimiter,R=L===void 0?"/#?":L,P=l.endsWith,I="[".concat(X(P===void 0?"":P),"]|$"),E="[".concat(X(R),"]"),g=d?"^":"",O=0,C=a;O<C.length;O++){var _=C[O];if(typeof _=="string")g+=X(y(_));else{var T=X(y(_.prefix)),S=X(y(_.suffix));if(_.pattern)if(c&&c.push(_),T||S)if(_.modifier==="+"||_.modifier==="*"){var N=_.modifier==="*"?"?":"";g+="(?:".concat(T,"((?:").concat(_.pattern,")(?:").concat(S).concat(T,"(?:").concat(_.pattern,"))*)").concat(S,")").concat(N)}else g+="(?:".concat(T,"(").concat(_.pattern,")").concat(S,")").concat(_.modifier);else g+=_.modifier==="+"||_.modifier==="*"?"((?:".concat(_.pattern,")").concat(_.modifier,")"):"(".concat(_.pattern,")").concat(_.modifier);else g+="(?:".concat(T).concat(S,")").concat(_.modifier)}}if(m)h||(g+="".concat(E,"?")),g+=l.endsWith?"(?=".concat(I,")"):"$";else{var x=a[a.length-1],D=typeof x=="string"?E.indexOf(x[x.length-1])>-1:x===void 0;h||(g+="(?:".concat(E,"(?=").concat(I,"))?")),D||(g+="(?=".concat(E,"|").concat(I,")"))}return new RegExp(g,ke(l))}(function(a,c){c===void 0&&(c={});for(var l=function(S){for(var N=[],x=0;x<S.length;){var D=S[x];if(D!=="*"&&D!=="+"&&D!=="?")if(D!=="\\")if(D!=="{")if(D!=="}")if(D!==":")if(D!=="(")N.push({type:"CHAR",index:x,value:S[x++]});else{var Q=1,ae="";if(S[q=x+1]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(q));for(;q<S.length;)if(S[q]!=="\\"){if(S[q]===")"){if(--Q==0){q++;break}}else if(S[q]==="("&&(Q++,S[q+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(q));ae+=S[q++]}else ae+=S[q++]+S[q++];if(Q)throw new TypeError("Unbalanced pattern at ".concat(x));if(!ae)throw new TypeError("Missing pattern at ".concat(x));N.push({type:"PATTERN",index:x,value:ae}),x=q}else{for(var pe="",q=x+1;q<S.length;){var G=S.charCodeAt(q);if(!(G>=48&&G<=57||G>=65&&G<=90||G>=97&&G<=122||G===95))break;pe+=S[q++]}if(!pe)throw new TypeError("Missing parameter name at ".concat(x));N.push({type:"NAME",index:x,value:pe}),x=q}else N.push({type:"CLOSE",index:x,value:S[x++]});else N.push({type:"OPEN",index:x,value:S[x++]});else N.push({type:"ESCAPED_CHAR",index:x++,value:S[x++]});else N.push({type:"MODIFIER",index:x,value:S[x++]})}return N.push({type:"END",index:x,value:""}),N}(a),u=c.prefixes,h=u===void 0?"./":u,f="[^".concat(X(c.delimiter||"/#?"),"]+?"),d=[],p=0,m=0,v="",y=function(S){if(m<l.length&&l[m].type===S)return l[m++].value},L=function(S){var N=y(S);if(N!==void 0)return N;var x=l[m],D=x.index;throw new TypeError("Unexpected ".concat(x.type," at ").concat(D,", expected ").concat(S))},R=function(){for(var S,N="";S=y("CHAR")||y("ESCAPED_CHAR");)N+=S;return N};m<l.length;){var P=y("CHAR"),I=y("NAME"),E=y("PATTERN");if(I||E)h.indexOf(O=P||"")===-1&&(v+=O,O=""),v&&(d.push(v),v=""),d.push({name:I||p++,prefix:O,suffix:"",pattern:E||f,modifier:y("MODIFIER")||""});else{var g=P||y("ESCAPED_CHAR");if(g)v+=g;else if(v&&(d.push(v),v=""),y("OPEN")){var O=R(),C=y("NAME")||"",_=y("PATTERN")||"",T=R();L("CLOSE"),d.push({name:C||(_?p++:""),pattern:C&&!_?f:_,prefix:O,suffix:T,modifier:y("MODIFIER")||""})}else L("END")}}return d}(o,s),i,s)}(t,n,r)},dt={__proto__:null,update:ue,nextTick:function(){return new Promise(function(e){window.requestAnimationFrame(e)})},pathToRegexp:He},Fe=function(){return window.location.origin},ie=function(e){return e===void 0&&(e=window.location.href),$(e).port},$=function(e){var t,n=e.match(/:\d+/);if(n===null)/^http/.test(e)&&(t=80),/^https/.test(e)&&(t=443);else{var r=n[0].substring(1);t=parseInt(r,10)}var o,i=e.replace(Fe(),""),s={},a=i.indexOf("#");a>=0&&(o=i.slice(a+1),i=i.slice(0,a));var c=i.indexOf("?");return c>=0&&(s=We(i.slice(c+1)),i=i.slice(0,c)),{hash:o,path:i,port:t,query:s}},We=function(e){return e.split("&").reduce(function(t,n){var r=n.split("=");return t[r[0]]=r[1],t},{})},we=function(e){return e===void 0&&(e=window.location.href),e.replace(/(\/#.*|\/|#.*)$/,"")},pt={__proto__:null,getHref:function(){return window.location.href},getAbsoluteHref:function(e,t){return t===void 0&&(t=document.baseURI),new URL(e,t).href},getOrigin:Fe,getPort:ie,getPath:function(e){return e===void 0&&(e=window.location.href),$(e).path},getQuery:function(e,t){return t===void 0&&(t=!1),t?JSON.stringify($(e).query):$(e).query},getHash:function(e){return $(e).hash},parse:$,parseQuery:We,clean:we};function mt(e,t,n,r,o){return t===void 0&&(t=2e3),new Promise(function(i,s){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){if(a.status===200){var c=a.responseURL!==""&&a.responseURL!==e?a.responseURL:e;i({html:a.responseText,url:H({href:c},$(c))}),r.update(e,{status:"fulfilled",target:c})}else if(a.status){var l={status:a.status,statusText:a.statusText};n(e,l),s(l),r.update(e,{status:"rejected"})}}},a.ontimeout=function(){var c=new Error("Timeout error ["+t+"]");n(e,c),s(c),r.update(e,{status:"rejected"})},a.onerror=function(){var c=new Error("Fetch error");n(e,c),s(c),r.update(e,{status:"rejected"})},a.open("GET",e),a.timeout=t,a.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),a.setRequestHeader("x-barba","yes"),o.all().forEach(function(c,l){a.setRequestHeader(l,c)}),a.send()})}function gt(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function K(e,t){return t===void 0&&(t={}),function(){var n=arguments,r=!1,o=new Promise(function(i,s){t.async=function(){return r=!0,function(c,l){c?s(c):i(l)}};var a=e.apply(t,[].slice.call(n));r||(gt(a)?a.then(i,s):i(a))});return o}}var V=new(function(e){function t(){var r;return(r=e.call(this)||this).logger=new z("@barba/core"),r.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],r.registered=new Map,r.init(),r}de(t,e);var n=t.prototype;return n.init=function(){var r=this;this.registered.clear(),this.all.forEach(function(o){r[o]||(r[o]=function(i,s){r.registered.has(o)||r.registered.set(o,new Set),r.registered.get(o).add({ctx:s||{},fn:i})})})},n.do=function(r){var o=arguments,i=this;if(this.registered.has(r)){var s=Promise.resolve();return this.registered.get(r).forEach(function(a){s=s.then(function(){return K(a.fn,a.ctx).apply(void 0,[].slice.call(o,1))})}),s.catch(function(a){i.logger.debug("Hook error ["+r+"]"),i.logger.error(a)})}return Promise.resolve()},n.clear=function(){var r=this;this.all.forEach(function(o){delete r[o]}),this.init()},n.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var r=[];this.registered.forEach(function(o,i){return r.push(i)}),this.logger.info("Registered hooks: "+r.join(","))},t}(ft)),Ye=function(){function e(t){if(this.k=void 0,this.O=[],typeof t=="boolean")this.k=t;else{var n=Array.isArray(t)?t:[t];this.O=n.map(function(r){return He(r)})}}return e.prototype.checkHref=function(t){if(typeof this.k=="boolean")return this.k;var n=$(t).path;return this.O.some(function(r){return r.exec(n)!==null})},e}(),vt=function(e){function t(r){var o;return(o=e.call(this,r)||this).T=new Map,o}de(t,e);var n=t.prototype;return n.set=function(r,o,i,s,a){return this.T.set(r,{action:i,request:o,status:s,target:a??r}),{action:i,request:o,status:s,target:a}},n.get=function(r){return this.T.get(r)},n.getRequest=function(r){return this.T.get(r).request},n.getAction=function(r){return this.T.get(r).action},n.getStatus=function(r){return this.T.get(r).status},n.getTarget=function(r){return this.T.get(r).target},n.has=function(r){return!this.checkHref(r)&&this.T.has(r)},n.delete=function(r){return this.T.delete(r)},n.update=function(r,o){var i=H({},this.T.get(r),o);return this.T.set(r,i),i},t}(Ye),yt=function(){function e(){this.A=new Map}var t=e.prototype;return t.set=function(n,r){return this.A.set(n,r),{name:r}},t.get=function(n){return this.A.get(n)},t.all=function(){return this.A},t.has=function(n){return this.A.has(n)},t.delete=function(n){return this.A.delete(n)},t.clear=function(){return this.A.clear()},e}(),Et=function(){return!window.history.pushState},bt=function(e){return!e.el||!e.href},wt=function(e){var t=e.event;return t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey},St=function(e){var t=e.el;return t.hasAttribute("target")&&t.target==="_blank"},_t=function(e){var t=e.el;return t.protocol!==void 0&&window.location.protocol!==t.protocol||t.hostname!==void 0&&window.location.hostname!==t.hostname},Lt=function(e){var t=e.el;return t.port!==void 0&&ie()!==ie(t.href)},At=function(e){var t=e.el;return t.getAttribute&&typeof t.getAttribute("download")=="string"},Rt=function(e){return e.el.hasAttribute(F.prefix+"-"+F.prevent)},Tt=function(e){return!!e.el.closest("["+F.prefix+"-"+F.prevent+'="all"]')},Pt=function(e){var t=e.href;return we(t)===we()&&ie(t)===ie()},Ot=function(e){function t(r){var o;return(o=e.call(this,r)||this).suite=[],o.tests=new Map,o.init(),o}de(t,e);var n=t.prototype;return n.init=function(){this.add("pushState",Et),this.add("exists",bt),this.add("newTab",wt),this.add("blank",St),this.add("corsDomain",_t),this.add("corsPort",Lt),this.add("download",At),this.add("preventSelf",Rt),this.add("preventAll",Tt),this.add("sameUrl",Pt,!1)},n.add=function(r,o,i){i===void 0&&(i=!0),this.tests.set(r,o),i&&this.suite.push(r)},n.run=function(r,o,i,s){return this.tests.get(r)({el:o,event:i,href:s})},n.checkLink=function(r,o,i){var s=this;return this.suite.some(function(a){return s.run(a,r,o,i)})},t}(Ye),me=function(e){function t(n,r){var o;return r===void 0&&(r="Barba error"),(o=e.call.apply(e,[this].concat([].slice.call(arguments,2)))||this).error=void 0,o.label=void 0,o.error=n,o.label=r,Error.captureStackTrace&&Error.captureStackTrace(ut(o),t),o.name="BarbaError",o}return de(t,e),t}(be(Error)),xt=function(){function e(n){n===void 0&&(n=[]),this.logger=new z("@barba/core"),this.all=[],this.page=[],this.once=[],this.j=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],n&&(this.all=this.all.concat(n)),this.update()}var t=e.prototype;return t.add=function(n,r){n==="rule"?this.j.splice(r.position||0,0,r.value):this.all.push(r),this.update()},t.resolve=function(n,r){var o=this;r===void 0&&(r={});var i=r.once?this.once:this.page;i=i.filter(r.self?function(f){return f.name&&f.name==="self"}:function(f){return!f.name||f.name!=="self"});var s=new Map,a=i.find(function(f){var d=!0,p={};return r.self&&f.name==="self"?(s.set(f,p),!0):(o.j.reverse().forEach(function(m){d&&(d=o.M(f,m,n,p),f.from&&f.to&&(d=o.M(f,m,n,p,"from")&&o.M(f,m,n,p,"to")),f.from&&!f.to&&(d=o.M(f,m,n,p,"from")),!f.from&&f.to&&(d=o.M(f,m,n,p,"to")))}),s.set(f,p),d)}),c=s.get(a),l=[];if(l.push(r.once?"once":"page"),r.self&&l.push("self"),c){var u,h=[a];Object.keys(c).length>0&&h.push(c),(u=this.logger).info.apply(u,["Transition found ["+l.join(",")+"]"].concat(h))}else this.logger.info("No transition found ["+l.join(",")+"]");return a},t.update=function(){var n=this;this.all=this.all.map(function(r){return n.N(r)}).sort(function(r,o){return r.priority-o.priority}).reverse().map(function(r){return delete r.priority,r}),this.page=this.all.filter(function(r){return r.leave!==void 0||r.enter!==void 0}),this.once=this.all.filter(function(r){return r.once!==void 0})},t.M=function(n,r,o,i,s){var a=!0,c=!1,l=n,u=r.name,h=u,f=u,d=u,p=s?l[s]:l,m=s==="to"?o.next:o.current;if(s?p&&p[u]:p[u]){switch(r.type){case"strings":default:var v=Array.isArray(p[h])?p[h]:[p[h]];m[h]&&v.indexOf(m[h])!==-1&&(c=!0),v.indexOf(m[h])===-1&&(a=!1);break;case"object":var y=Array.isArray(p[f])?p[f]:[p[f]];m[f]?(m[f].name&&y.indexOf(m[f].name)!==-1&&(c=!0),y.indexOf(m[f].name)===-1&&(a=!1)):a=!1;break;case"function":p[d](o)?c=!0:a=!1}c&&(s?(i[s]=i[s]||{},i[s][u]=l[s][u]):i[u]=l[u])}return a},t.S=function(n,r,o){var i=0;return(n[r]||n.from&&n.from[r]||n.to&&n.to[r])&&(i+=Math.pow(10,o),n.from&&n.from[r]&&(i+=1),n.to&&n.to[r]&&(i+=2)),i},t.N=function(n){var r=this;n.priority=0;var o=0;return this.j.forEach(function(i,s){o+=r.S(n,i.name,s+1)}),n.priority=o,n},e}();function ee(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}var Ct=function(){function e(n){n===void 0&&(n=[]),this.logger=new z("@barba/core"),this.store=void 0,this.C=!1,this.store=new xt(n)}var t=e.prototype;return t.get=function(n,r){return this.store.resolve(n,r)},t.doOnce=function(n){var r=n.data,o=n.transition;try{var i=function(){s.C=!1},s=this,a=o||{};s.C=!0;var c=ee(function(){return Promise.resolve(s.L("beforeOnce",r,a)).then(function(){return Promise.resolve(s.once(r,a)).then(function(){return Promise.resolve(s.L("afterOnce",r,a)).then(function(){})})})},function(l){s.C=!1,s.logger.debug("Transition error [before/after/once]"),s.logger.error(l)});return Promise.resolve(c&&c.then?c.then(i):i())}catch(l){return Promise.reject(l)}},t.doPage=function(n){var r=n.data,o=n.transition,i=n.page,s=n.wrapper;try{var a=function(f){c.C=!1},c=this,l=o||{},u=l.sync===!0||!1;c.C=!0;var h=ee(function(){function f(){return Promise.resolve(c.L("before",r,l)).then(function(){function p(v){return Promise.resolve(c.remove(r)).then(function(){return Promise.resolve(c.L("after",r,l)).then(function(){})})}var m=function(){if(u)return ee(function(){return Promise.resolve(c.add(r,s)).then(function(){return Promise.resolve(c.L("beforeLeave",r,l)).then(function(){return Promise.resolve(c.L("beforeEnter",r,l)).then(function(){return Promise.resolve(Promise.all([c.leave(r,l),c.enter(r,l)])).then(function(){return Promise.resolve(c.L("afterLeave",r,l)).then(function(){return Promise.resolve(c.L("afterEnter",r,l)).then(function(){})})})})})})},function(R){if(c.H(R))throw new me(R,"Transition error [sync]")});var v=function(R){return ee(function(){var P=function(){if(y!==!1)return Promise.resolve(c.add(r,s)).then(function(){return Promise.resolve(c.L("beforeEnter",r,l)).then(function(){return Promise.resolve(c.enter(r,l,y)).then(function(){return Promise.resolve(c.L("afterEnter",r,l)).then(function(){})})})})}();if(P&&P.then)return P.then(function(){})},function(P){if(c.H(P))throw new me(P,"Transition error [before/after/enter]")})},y=!1,L=ee(function(){return Promise.resolve(c.L("beforeLeave",r,l)).then(function(){return Promise.resolve(Promise.all([c.leave(r,l),ue(i,r)]).then(function(R){return R[0]})).then(function(R){return y=R,Promise.resolve(c.L("afterLeave",r,l)).then(function(){})})})},function(R){if(c.H(R))throw new me(R,"Transition error [before/after/leave]")});return L&&L.then?L.then(v):v()}();return m&&m.then?m.then(p):p()})}var d=function(){if(u)return Promise.resolve(ue(i,r)).then(function(){})}();return d&&d.then?d.then(f):f()},function(f){throw c.C=!1,f.name&&f.name==="BarbaError"?(c.logger.debug(f.label),c.logger.error(f.error),f):(c.logger.debug("Transition error [page]"),c.logger.error(f),f)});return Promise.resolve(h&&h.then?h.then(a):a())}catch(f){return Promise.reject(f)}},t.once=function(n,r){try{return Promise.resolve(V.do("once",n,r)).then(function(){return r.once?K(r.once,r)(n):Promise.resolve()})}catch(o){return Promise.reject(o)}},t.leave=function(n,r){try{return Promise.resolve(V.do("leave",n,r)).then(function(){return r.leave?K(r.leave,r)(n):Promise.resolve()})}catch(o){return Promise.reject(o)}},t.enter=function(n,r,o){try{return Promise.resolve(V.do("enter",n,r)).then(function(){return r.enter?K(r.enter,r)(n,o):Promise.resolve()})}catch(i){return Promise.reject(i)}},t.add=function(n,r){try{return Z.addContainer(n.next.container,r),V.do("nextAdded",n),Promise.resolve()}catch(o){return Promise.reject(o)}},t.remove=function(n){try{return Z.removeContainer(n.current.container),V.do("currentRemoved",n),Promise.resolve()}catch(r){return Promise.reject(r)}},t.H=function(n){return n.message?!/Timeout error|Fetch error/.test(n.message):!n.status},t.L=function(n,r,o){try{return Promise.resolve(V.do(n,r,o)).then(function(){return o[n]?K(o[n],o)(r):Promise.resolve()})}catch(i){return Promise.reject(i)}},Pe(e,[{key:"isRunning",get:function(){return this.C},set:function(n){this.C=n}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some(function(n){return n.name==="self"})}},{key:"shouldWait",get:function(){return this.store.all.some(function(n){return n.to&&!n.to.route||n.sync})}}]),e}(),Nt=function(){function e(t){var n=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,t.length!==0&&(t.forEach(function(r){n.byNamespace.set(r.namespace,r)}),this.names.forEach(function(r){V[r](n._(r))}))}return e.prototype._=function(t){var n=this;return function(r){var o=t.match(/enter/i)?r.next:r.current,i=n.byNamespace.get(o.namespace);return i&&i[t]?K(i[t],i)(r):Promise.resolve()}},e}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null});var It={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}},te=new(function(){function e(){this.version="2.10.3",this.schemaPage=It,this.Logger=z,this.logger=new z("@barba/core"),this.plugins=[],this.timeout=void 0,this.cacheIgnore=void 0,this.cacheFirstPage=void 0,this.prefetchIgnore=void 0,this.preventRunning=void 0,this.hooks=V,this.cache=void 0,this.headers=void 0,this.prevent=void 0,this.transitions=void 0,this.views=void 0,this.dom=Z,this.helpers=dt,this.history=Ue,this.request=mt,this.url=pt,this.D=void 0,this.B=void 0,this.q=void 0,this.F=void 0}var t=e.prototype;return t.use=function(n,r){var o=this.plugins;o.indexOf(n)>-1?this.logger.warn("Plugin ["+n.name+"] already installed."):typeof n.install=="function"?(n.install(this,r),o.push(n)):this.logger.warn("Plugin ["+n.name+'] has no "install" method.')},t.init=function(n){var r=n===void 0?{}:n,o=r.transitions,i=o===void 0?[]:o,s=r.views,a=s===void 0?[]:s,c=r.schema,l=c===void 0?F:c,u=r.requestError,h=r.timeout,f=h===void 0?2e3:h,d=r.cacheIgnore,p=d!==void 0&&d,m=r.cacheFirstPage,v=m!==void 0&&m,y=r.prefetchIgnore,L=y!==void 0&&y,R=r.preventRunning,P=R!==void 0&&R,I=r.prevent,E=I===void 0?null:I,g=r.debug,O=r.logLevel;if(z.setLevel((g!==void 0&&g)===!0?"debug":O===void 0?"off":O),this.logger.info(this.version),Object.keys(l).forEach(function(T){F[T]&&(F[T]=l[T])}),this.B=u,this.timeout=f,this.cacheIgnore=p,this.cacheFirstPage=v,this.prefetchIgnore=L,this.preventRunning=P,this.q=this.dom.getWrapper(),!this.q)throw new Error("[@barba/core] No Barba wrapper found");this.I();var C=this.data.current;if(!C.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new vt(p),this.headers=new yt,this.prevent=new Ot(L),this.transitions=new Ct(i),this.views=new Nt(a),E!==null){if(typeof E!="function")throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",E)}this.history.init(C.url.href,C.namespace),v&&this.cache.set(C.url.href,Promise.resolve({html:C.html,url:C.url}),"init","fulfilled"),this.U=this.U.bind(this),this.$=this.$.bind(this),this.X=this.X.bind(this),this.G(),this.plugins.forEach(function(T){return T.init()});var _=this.data;_.trigger="barba",_.next=_.current,_.current=H({},this.schemaPage),this.hooks.do("ready",_),this.once(_),this.I()},t.destroy=function(){this.I(),this.J(),this.history.clear(),this.hooks.clear(),this.plugins=[]},t.force=function(n){window.location.assign(n)},t.go=function(n,r,o){var i;if(r===void 0&&(r="barba"),this.F=null,this.transitions.isRunning)this.force(n);else if(!(i=r==="popstate"?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(n)&&this.url.getQuery(this.history.current.url,!0)===this.url.getQuery(n,!0):this.prevent.run("sameUrl",null,null,n))||this.transitions.hasSelf)return r=this.history.change(this.cache.has(n)?this.cache.get(n).target:n,r,o),o&&(o.stopPropagation(),o.preventDefault()),this.page(n,r,o??void 0,i)},t.once=function(n){try{var r=this;return Promise.resolve(r.hooks.do("beforeEnter",n)).then(function(){function o(){return Promise.resolve(r.hooks.do("afterEnter",n)).then(function(){})}var i=function(){if(r.transitions.hasOnce){var s=r.transitions.get(n,{once:!0});return Promise.resolve(r.transitions.doOnce({transition:s,data:n})).then(function(){})}}();return i&&i.then?i.then(o):o()})}catch(o){return Promise.reject(o)}},t.page=function(n,r,o,i){try{var s,a=function(){var h=c.data;return Promise.resolve(c.hooks.do("page",h)).then(function(){var f=function(d,p){try{var m=(v=c.transitions.get(h,{once:!1,self:i}),Promise.resolve(c.transitions.doPage({data:h,page:s,transition:v,wrapper:c.q})).then(function(){c.I()}))}catch{return p()}var v;return m&&m.then?m.then(void 0,p):m}(0,function(){z.getLevel()===0&&c.force(h.next.url.href)});if(f&&f.then)return f.then(function(){})})},c=this;if(c.data.next.url=H({href:n},c.url.parse(n)),c.data.trigger=r,c.data.event=o,c.cache.has(n))s=c.cache.update(n,{action:"click"}).request;else{var l=c.request(n,c.timeout,c.onRequestError.bind(c,r),c.cache,c.headers);l.then(function(h){h.url.href!==n&&c.history.add(h.url.href,r,"replace")}),s=c.cache.set(n,l,"click","pending").request}var u=function(){if(c.transitions.shouldWait)return Promise.resolve(ue(s,c.data)).then(function(){})}();return Promise.resolve(u&&u.then?u.then(a):a())}catch(h){return Promise.reject(h)}},t.onRequestError=function(n){this.transitions.isRunning=!1;var r=[].slice.call(arguments,1),o=r[0],i=r[1],s=this.cache.getAction(o);return this.cache.delete(o),this.B&&this.B(n,s,o,i)===!1||s==="click"&&this.force(o),!1},t.prefetch=function(n){var r=this;n=this.url.getAbsoluteHref(n),this.cache.has(n)||this.cache.set(n,this.request(n,this.timeout,this.onRequestError.bind(this,"barba"),this.cache,this.headers).catch(function(o){r.logger.error(o)}),"prefetch","pending")},t.G=function(){this.prefetchIgnore!==!0&&(document.addEventListener("mouseover",this.U),document.addEventListener("touchstart",this.U)),document.addEventListener("click",this.$),window.addEventListener("popstate",this.X)},t.J=function(){this.prefetchIgnore!==!0&&(document.removeEventListener("mouseover",this.U),document.removeEventListener("touchstart",this.U)),document.removeEventListener("click",this.$),window.removeEventListener("popstate",this.X)},t.U=function(n){var r=this,o=this.W(n);if(o){var i=this.url.getAbsoluteHref(this.dom.getHref(o));this.prevent.checkHref(i)||this.cache.has(i)||this.cache.set(i,this.request(i,this.timeout,this.onRequestError.bind(this,o),this.cache,this.headers).catch(function(s){r.logger.error(s)}),"enter","pending")}},t.$=function(n){var r=this.W(n);if(r){if(this.transitions.isRunning&&this.preventRunning)return n.preventDefault(),void n.stopPropagation();this.F=n,this.go(this.dom.getHref(r),r,n)}},t.X=function(n){this.go(this.url.getHref(),"popstate",n)},t.W=function(n){for(var r=n.target;r&&!this.dom.getHref(r);)r=r.parentNode;if(r&&!this.prevent.checkLink(r,n,this.dom.getHref(r)))return r},t.I=function(){var n=this.url.getHref(),r={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:H({href:n},this.url.parse(n))};this.D={current:r,event:void 0,next:H({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},Pe(e,[{key:"data",get:function(){return this.D}},{key:"wrapper",get:function(){return this.q}}]),e}());function fe(e,t=!1){if(window.lenis){window.lenis.scrollTo(e,{immediate:t,force:t});return}isNaN(e)?document.querySelector(e).scrollIntoView({behavior:t?"instant":"smooth"}):window.scrollTo(0,e)}function Se(e=!1){const n=new URL(window.location).searchParams.get("anchor");n&&fe(`#${n}`,e)}const qt=()=>{if(!window.Lenis)return;const e=document.querySelector("main");if(!e)return;const t=new Lenis({duration:1.2,wheelMultiplier:1,touchMultiplier:1,autoRaf:!0,prevent:s=>!!s.closest(".form__dropdown")});document.addEventListener("DOMContentLoaded",Se),t.resizeDebounce=null,t.on("scroll",n);function n(s){const{scrollHeight:a}=s.dimensions;a!==document.body.scrollHeight&&o()}function r(s){if(s.target===document.documentElement)try{Object.defineProperty(window,"innerHeight",{get:function(){return s.contentRect.height}})}catch(a){console.warn(a)}o()}function o(){clearTimeout(t.resizeDebounce),t.resizeDebounce=setTimeout(()=>{t.resize()},100)}const i=new ResizeObserver(s=>{r(s[0])});return i.observe(document.documentElement),i.observe(document.body),i.observe(e),document.documentElement.style.setProperty("height","auto"),setTimeout(()=>{document.documentElement.style.setProperty("height","100%")},100),window.lenis=t,t},_e="page-transition-end",Ve=(e=()=>{})=>(document.addEventListener(_e,e,{once:!0}),()=>document.removeEventListener(_e,e));function je(){document.dispatchEvent(new CustomEvent(_e)),window.isTransitioning=!1}const kt=(e=()=>{})=>{const t=document.getElementById("page-transition"),n=()=>t?(window.isTransitioning=!0,gsap.timeline().to(t,{opacity:0,display:"block"}).to(t,{opacity:1,duration:.8})):Promise.resolve(),r=()=>t?gsap.timeline().to(t,{opacity:0,duration:.8}).to(t,{display:"none"}).add(()=>{je()}):Promise.resolve();function o(){lenis&&lenis.stop()}function i(){lenis&&lenis.start()}function s(){lenis&&lenis.resize()}try{te.init({transitions:[{name:"transition",leave(){return window.leavePageAnimation?window.leavePageAnimation():n()},enter(){return window.enterPageAnimation?window.enterPageAnimation():r()}}]}),te.hooks.beforeLeave(a=>{o()}),te.hooks.beforeEnter(a=>{a.current.container.remove(),s(),fe(0,!0)}),te.hooks.enter(a=>{Bt(),i(),e(),Mt(a),Se(!0)}),te.hooks.after(a=>{window.leavePageAnimation=null,window.enterPageAnimation=null,Se()})}catch(a){console.warn("Barba init error",a)}};function Mt(e){var o,i;let r=new DOMParser().parseFromString(e.next.html,"text/html").documentElement.getAttribute("data-wf-page");document.documentElement.setAttribute("data-wf-page",r),window.Webflow&&window.Webflow.destroy(),window.Webflow&&window.Webflow.ready(),window.Webflow&&((i=(o=window.Webflow.require("ix2"))==null?void 0:o.init)==null||i.call(o)),Dt()}function Dt(){document.querySelectorAll("video[autoplay]").forEach(t=>{t.paused&&t.play().catch(console.warn)})}function Bt(){const e=document.querySelector('script[src*="memberstack"]');if(e){const t=document.createElement("script");for(const n of e.attributes)t.setAttribute(n.name,n.value);e.remove(),document.head.appendChild(t)}}const J=window.matchMedia("(pointer: coarse)").matches,Ut=window.matchMedia("(hover: hover)").matches,Oe=()=>window.innerWidth>991,Le=()=>window.innerWidth<767,$e=()=>window.innerWidth<478,Ht=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);window.matchMedia("(prefers-reduced-motion: reduce)").matches;function k(e=15,t=()=>{},n=()=>{},{marginTop:r=e,marginBottom:o=e}={}){const i=new IntersectionObserver(s=>{s.forEach(a=>{a.isIntersecting?t(a,i):n(a,i)})},{rootMargin:`-${r}% 0% -${o}% 0%`,threshold:0});return i}const M=(...e)=>()=>e.forEach(t=>{var n;if(t!=null&&t.cleanup)return(n=t.cleanup)==null?void 0:n.call(t);t==null||t()}),Ft=()=>{const e=document.querySelector('[data-barba="container"]');return(e==null?void 0:e.dataset.barbaNamespace)||null},Ge=()=>{},ze=(e=()=>{})=>window.isTransitioning?Ve(e):(e(),Ge),Wt=e=>{const{animationOffset:t=15,animationOffsetTablet:n=t,animationOffsetMobile:r=n}=e.dataset||{};return Oe()?t:$e()?r:n},Ze=(e,t)=>{const n={},r=[...e].map(c=>{const{animate:l,cleanup:u}=t(c);return c.animate=l,u}),o=ze(i);function i(){e.forEach(c=>{const l=Wt(c);s(l).observe(c)})}function s(c){return n[c]||(n[c]=k(c,a)),n[c]}function a(c,l){c.target.animate(),l.unobserve(c.target)}return M(...r,o,()=>{Object.values(n).forEach(c=>c.disconnect())})},Xe="block-scroll";function Yt(){if(window.scrollBarListener)return;const e=()=>{const t=document.documentElement.style.getPropertyValue("--scroll-bar-width"),n=window.innerWidth-document.documentElement.clientWidth;n&&t!==`${n}px`&&document.documentElement.style.setProperty("--scroll-bar-width",`${n}px`)};window.scrollBarListener=new ResizeObserver(e),window.scrollBarListener.observe(document.documentElement),e()}const xe=e=>{var t,n;document.documentElement.classList.add(Xe),e&&document.documentElement.classList.add(e),J||(n=(t=window.lenis)==null?void 0:t.stop)==null||n.call(t)},Ce=e=>{var t;document.documentElement.classList.remove(Xe),e&&document.documentElement.classList.remove(e),J||(t=window.lenis)==null||t.start()},Ke="website-loaded",Vt=()=>document.dispatchEvent(new CustomEvent(Ke)),jt=()=>{const e=document.getElementById("preloader");if(!e)return;if(window.isTransitioning=!0,it())return n();fe(0,!0),xe();const t=e.querySelector(".preloader__title__h");document.addEventListener(Ke,r);function n(){return gsap.timeline().to(e,{opacity:0,duration:.6}).add(()=>{e.remove(),Ce(),st(),je()})}function r(){gsap.timeline().delay(.5).to(t,{transform:"translateY(-100%)",duration:1}).add(()=>{fe(0,!0)}).add(n)}},$t=()=>{const e=document.querySelector(".menu-btn"),t=document.querySelector(".menu");if(!t||!e)return;const n=t.querySelectorAll("a"),r=t.querySelectorAll(".menu__link"),o=[...t.querySelectorAll(".heading--nav-link"),t.querySelector(".members-link")],i="menu-opened",s=1,a=.4;let c=!1,l=null;return e.addEventListener("click",f),n.forEach(g=>{g.addEventListener("click",m)}),r.forEach(g=>{g.addEventListener("mouseenter",u),g.addEventListener("mouseleave",h)}),()=>{e.removeEventListener("click",f),n.forEach(g=>{g.removeEventListener("click",m)}),r.forEach(g=>{g.removeEventListener("mouseenter",u),g.removeEventListener("mouseleave",h)}),document.removeEventListener("click",d)};function u(g){r.forEach(O=>{O!==g.target&&O.classList.add("transparent")})}function h(){r.forEach(g=>{g.classList.remove("transparent")})}function f(g){g.stopPropagation(),c?m():p()}function d(g){t.contains(g.target)||c&&m()}function p(){return E(),e.removeEventListener("click",f),c=!0,xe(i),l=gsap.timeline().add(L),v(l),l.add(P).add(()=>{document.addEventListener("click",d)}),l}function m(){return E(),c=!1,document.removeEventListener("click",d),l=gsap.timeline().add(R),y(l),l.add(I).add(()=>{e.addEventListener("click",f),Ce(i)}),l}function v(g){Le()?g.fromTo(t,{display:"block",opacity:0,pointerEvents:"none"},{opacity:1,pointerEvents:"auto",duration:a}):g.fromTo(t,{display:"block",transform:"translateX(100%)"},{transform:"translateX(0%)",duration:s})}function y(g){Le()?g.to(t,{opacity:0,pointerEvents:"none",duration:a}).to(t,{display:"none"}):g.to(t,{transform:"translateX(100%)",duration:s}).to(t,{display:"none"})}function L(){e.classList.add("menu-btn--opened")}function R(){e.classList.remove("menu-btn--opened")}function P(){o.forEach(g=>g.classList.add("transition")),setTimeout(()=>{o.forEach(g=>g.classList.add("shown"))},10)}function I(){o.forEach(g=>g.classList.remove("transition")),setTimeout(()=>{o.forEach(g=>g.classList.remove("shown"))},10)}function E(){var g;(g=l==null?void 0:l.kill)==null||g.call(l)}},Gt=()=>{const e=document.querySelector(".contact__form");if(!e)return;const t=e.querySelector(".form-success"),r=t.querySelector("a").href,o=e.querySelector('input[name="Schedule-a-session"]'),i=e.querySelector(".form__button__text");let s=!1;const a={default:i.textContent,schedule:"Schedule collaboration session"},{cleanup:c}=at(e),l=new MutationObserver(h);return l.observe(t,{attributes:!0,attributeFilter:["style"]}),o.addEventListener("change",u),u(),()=>{c(),o.removeEventListener("change",u),l.disconnect()};function u(){s=o.checked,s?(i.textContent=a.schedule,t.classList.add("form-success--schedule")):(i.textContent=a.default,t.classList.remove("form-success--schedule"))}function h(){s&&t.checkVisibility()&&window.open(r)}},zt=()=>{const e=document.querySelectorAll("[data-color-change], .approach, .services__end, .strategy-and-solutions"),t=document.querySelectorAll(".fixed-content, .menu a"),n=[],r=[...t].map((s,a)=>{s.classList.add("bg-toggled");const c=new IntersectionObserver(([u])=>{u.isIntersecting?l():o(a)},{threshold:[0]});return c.observe(s),c;function l(){const{top:u,bottom:h}=s.getBoundingClientRect(),f=window.innerHeight,d=u/f*100,p=100*(1-h/f),m=`-${d}% 50% -${p}% 50%`;o(a);const v=new Set([]),y=new IntersectionObserver(L=>{L.forEach(P=>{P.isIntersecting?v.add(P.target):v.delete(P.target)});const R=v.size>0;s.classList.toggle("bg-change",R),s.style.removeProperty("color")},{rootMargin:m,threshold:[0]});e.forEach(L=>y.observe(L)),n[a]=y}});function o(s){n[s]&&(n[s].disconnect(),n[s]=null)}return()=>{r.forEach(s=>{var a;return(a=s==null?void 0:s.disconnect)==null?void 0:a.call(s)}),n.forEach(s=>{var a;return(a=s==null?void 0:s.disconnect)==null?void 0:a.call(s)})}},Zt=()=>{const e=document.querySelector(".legal__disclaimer");if(!e)return;const t=e.querySelector(".legal__disclaimer__close"),n=document.querySelector(".legal__entry--disclaimer");return n.addEventListener("click",r),()=>{n.removeEventListener("click",r),document.removeEventListener("click",o)};function r(a){a.stopPropagation(),s()}function o(a){(!e.contains(a.target)||t.contains(a.target))&&i()}function i(){document.removeEventListener("click",o),gsap.timeline().add(()=>{gsap.to(n,{opacity:.5,clearProps:"all"})}).to(e,{opacity:0,pointerEvents:"none",duration:.4}).to(e,{display:"none"}).add(()=>{n.addEventListener("click",r)})}function s(){n.removeEventListener("click",r),gsap.timeline().add(()=>{gsap.to(n,{opacity:1})}).to(e,{display:"block",opacity:0}).to(e,{opacity:1,pointerEvents:"auto",duration:.4}).add(()=>{document.addEventListener("click",o)})}},Xt=()=>Zt(),W={colors:{tl:"#1f4287",tr:"#4c68a9",bl:"#0c2b62",br:"#7c89cd"},canvasId:"mesh-canvas",dots:[[-1,-1],[-1,1],[.3,-.4],[1,1]],moving:[{index:2,revert:!1}],target:[[-1,.5]]};let ne,Y,Kt=32,ce=W.colors,Je={right:0,left:0,top:0,bottom:0};function Jt(e){let t=new XMLHttpRequest;return t.open("GET",e,!1),t.overrideMimeType("text/plain; charset=x-user-defined"),t.send(null),t.status!=200&&t.status!=0?null:t.responseText}function Me(e){let t=document.getElementById(e);if(!t)throw Error("element '"+e+"' not found");return t.hasAttribute("src")?Jt(t.src):t.text}function U(e,t,n,r){this.parent=e,this.which=t,this.src=n,this.dst=r,this.s2=[],this.w=[]}function Qt(e,t){let n=e.length,r=e[0].length,o=t[0].length;for(let i=0;i<r-1;i++){let s=i,a=s+1,c=Math.abs(e[s][i]),l=s;for(let u=s+1;u<n;u++){let h=Math.abs(e[u][i]);c<h&&(c=h,l=u)}if(l!=s){let u=e[s];e[s]=e[l],e[l]=u;let h=t[s];t[s]=t[l],t[l]=h}for(let u=a;u<n;u++){let h=e[s][i],f=e[u][i];for(let d=i;d<r;d++)e[u][d]=h*e[u][d]-f*e[s][d];for(let d=0;d<o;d++)t[u][d]=h*t[u][d]-f*t[s][d]}}for(let i=n-1;i>=0;i--){for(let s=n-1;s>i;s--){let a=e[i][s];e[i][s]=0;for(let c=0;c<o;c++)t[i][c]-=a*t[s][c]}for(let s=0;s<o;s++)t[i][s]/=e[i][i];e[i][i]=1}return t}function re(e=[],t=[],n=0){this.npoints=n,this.src=e,this.dst=t,this.src.map(r=>typeof r[0]!="number"||typeof r[1]!="number"?[0,0]:r),this.dst.map(r=>typeof r[0]!="number"||typeof r[1]!="number"?[0,0]:r),this.warps=[new U(this,0,this.src,this.dst),new U(this,1,this.dst,this.src)]}function B(e,t,n,r){this.warp=e,this.id=n,this.canvas=t,t.setAttribute("tabIndex",e.which+1),this.ctx=t.getContext("webgl",{preserveDrawingBuffer:!0}),this.isClone=r,this.errors=null,this.texture=null,this.position_buffer=null,this.texcoord_buffer=null,this.index_buffer=null,this.num_indices=null,this.warp_program=null,this.drag=null,this.radius=10,this.setup()}function ge(e,t){let n=[];for(let r=0;r<e.length;r++){let o=e[r];for(let i=0;i<o.length;i++)n.push(o[i])}return n}U.prototype=new Object,U.prototype.npoints=function(){return this.parent.npoints},U.prototype.get_src=function(){let e=this.src.slice(0,this.npoints());for(let t=0;t<e.length;t++)e[t]=e[t].slice();return e},U.prototype.get_dst=function(){let e=this.dst.slice(0,this.npoints());for(let t=0;t<e.length;t++)e[t]=e[t].slice();return e},U.prototype.distance_squared=function(e,t,n){if(n){let r=[];for(let i=0;i<e.length;i++){let s=[];for(let a=0;a<e.length;a++)s.push(e[i][0]*e[a][0]+e[i][1]*e[a][1]);r.push(s)}let o=[];for(let i=0;i<e.length;i++){let s=[];for(let a=0;a<e.length;a++)s.push(r[i][i]+r[a][a]-2*r[i][a]);o.push(s)}return o}{let r=[];for(let a=0;a<e.length;a++){let c=[];for(let l=0;l<t.length;l++)c.push(e[a][0]*t[l][0]+e[a][1]*t[l][1]);r.push(c)}let o=[];for(let a=0;a<e.length;a++)o.push(e[a][0]*e[a][0]+e[a][1]*e[a][1]);let i=[];for(let a=0;a<t.length;a++)i.push(t[a][0]*t[a][0]+t[a][1]*t[a][1]);let s=[];for(let a=0;a<e.length;a++){let c=[];for(let l=0;l<t.length;l++)c.push(o[a]+i[l]-2*r[a][l]);s.push(c)}return s}},U.prototype.rbf=function(e,t,n){let r=this.distance_squared(e,t,n);if(n){let i=r[0][0];for(let a=0;a<r.length;a++)for(let c=0;c<r[a].length;c++)i<r[a][c]&&(i=r[a][c]);let s=[];for(let a=0;a<r.length;a++){let c=[];for(let l=0;l<r[a].length;l++)c.push(a==l?i:r[a][l]);s.push(c)}for(let a=0;a<s[0].length;a++){let c=s[0][a];for(let l=1;l<s.length;l++)c>s[l][a]&&(c=s[l][a]);this.s2[a]=c}}let o=[];for(let i=0;i<r.length;i++){let s=[];for(let a=0;a<r[i].length;a++)s.push(Math.sqrt(r[i][a]+this.s2[a]));o.push(s)}return o},U.prototype.update=function(){if(this.npoints()<4)return;let e=this.get_src(),t=this.get_dst(),n=Qt(this.rbf(e,e,!0),t);for(let r=0;r<n.length;r++)this.w[r]=n[r]},U.prototype.warp=function(e){if(this.npoints()<4)return e.slice();let t=this.rbf(e,this.get_src()),n=[];for(let r=0;r<t.length;r++){let o=[];for(let i=0;i<2;i++){let s=0;for(let a=0;a<t[r].length;a++)s+=t[r][a]*this.w[a][i];o.push(s)}n.push(o)}return n},re.prototype=new Object,re.prototype.update=function(){for(let e=0;e<this.warps.length;e++)this.warps[e].update()},re.prototype.add=function(e,t,n,r,o){if(o){let i=e;e=n,n=i;let s=t;t=r,r=s}this.src[this.npoints]=[e,t],this.dst[this.npoints]=[n,r],this.npoints++,this.update()},re.prototype.add_pair=function(e,t,n){let r=e?1:0,o=this.warps[r].warp([[t,n]])[0],i=o[0],s=o[1];this.add(t,n,i,s,e)},B.prototype.check_error=function(){let e=this.ctx;this.errors==null&&(this.errors={},this.errors[e.INVALID_ENUM]="invalid enum",this.errors[e.INVALID_VALUE]="invalid value",this.errors[e.INVALID_OPERATION]="invalid operation",this.errors[e.OUT_OF_MEMORY]="out of memory");for(let t=0;t<10;t++){let n=e.getError();if(n==0)return;throw Error(this.errors[n])}},B.prototype.shader=function(e,t,n){let r=this.ctx,o=r.createShader(t);if(r.shaderSource(o,n),r.compileShader(o),!r.getShaderParameter(o,r.COMPILE_STATUS))throw Error(e+": "+r.getShaderInfoLog(o));return o},B.prototype.program=function(e,t,n){let r=this.ctx,o=Me(t),i=Me(n),s=this.shader(e+".vertex",r.VERTEX_SHADER,o),a=this.shader(e+".fragment",r.FRAGMENT_SHADER,i),c=r.createProgram();if(r.attachShader(c,s),r.attachShader(c,a),r.linkProgram(c),!r.getProgramParameter(c,r.LINK_STATUS))throw new Error(r.getProgramInfoLog(c));return this.check_error(),c},B.prototype.setup_programs=function(){this.warp_program=this.program("warp","warp_vertex","warp_fragment"),this.point_program=this.program("points","point_vertex","point_fragment")},B.prototype.setup_buffers=function(){let e=this.ctx,t=new Float32Array([-1,-1,1,-1,1,1,-1,1]);this.position_buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.position_buffer),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW);let n=new Float32Array([0,0,1,0,1,1,0,1]);this.texcoord_buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.texcoord_buffer),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),this.points_buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.points_buffer),e.bufferData(e.ARRAY_BUFFER,2*Kt*4,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this.indices=new Uint16Array([0,1,2,2,3,0]),this.num_indices=this.indices.length,this.index_buffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.index_buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),this.check_error()},B.prototype.set_uniform=function(e,t,n,r,o){let i=this.ctx,s=i.getUniformLocation(e,t);if(r==0)n.call(i,s,o);else{if(r!=1)throw new Error("invalid type");n.call(i,s,new Float32Array(o))}},B.prototype.draw=function(){let e=this.ctx;if(e.clearColor(.5,.5,1,1),e.clear(e.COLOR_BUFFER_BIT),this.warp.npoints()>=4){e.useProgram(this.warp_program),this.set_uniform(this.warp_program,"u_color3",e.uniform1i,0,ce.tl.replace("#","0x")),this.set_uniform(this.warp_program,"u_color4",e.uniform1i,0,ce.tr.replace("#","0x")),this.set_uniform(this.warp_program,"u_color2",e.uniform1i,0,ce.br.replace("#","0x")),this.set_uniform(this.warp_program,"u_color1",e.uniform1i,0,ce.bl.replace("#","0x")),this.set_uniform(this.warp_program,"tex",e.uniform1i,0,0),this.set_uniform(this.warp_program,"warp",e.uniform1i,0,this.warp.which),this.set_uniform(this.warp_program,"npoints",e.uniform1i,0,this.warp.npoints()),this.set_uniform(this.warp_program,"points",e.uniform2fv,1,ge(this.warp.src)),this.set_uniform(this.warp_program,"s2",e.uniform1fv,1,this.warp.s2),this.set_uniform(this.warp_program,"w",e.uniform2fv,1,ge(this.warp.w)),e.activeTexture(e.TEXTURE0);let t=e.getAttribLocation(this.warp_program,"a_Position"),n=e.getAttribLocation(this.warp_program,"a_TexCoord");e.enableVertexAttribArray(t),e.bindBuffer(e.ARRAY_BUFFER,this.position_buffer),e.vertexAttribPointer(t,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(n),e.bindBuffer(e.ARRAY_BUFFER,this.texcoord_buffer),e.vertexAttribPointer(n,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.index_buffer),e.drawElements(e.TRIANGLES,this.num_indices,e.UNSIGNED_SHORT,0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.disableVertexAttribArray(t),e.disableVertexAttribArray(n),e.useProgram(null)}if(this.warp.npoints()>0&&!this.isClone){e.useProgram(this.point_program),this.set_uniform(this.point_program,"radius",e.uniform1f,0,this.radius),this.set_uniform(this.point_program,"color",e.uniform3fv,0,[0,0,0]);let t=e.getAttribLocation(this.point_program,"a_Position"),n=this.warp.get_src();e.enableVertexAttribArray(t),e.bindBuffer(e.ARRAY_BUFFER,this.points_buffer),e.bufferSubData(e.ARRAY_BUFFER,0,new Float32Array(ge(n))),e.vertexAttribPointer(t,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,null),e.disableVertexAttribArray(t),e.useProgram(null)}e.flush(),this.check_error()},B.prototype.mouse_move=function(e){let t=Je,n=t.right-t.left,r=t.bottom-t.top,o=(e.clientX-t.left)/n*2-1,i=(t.bottom-e.clientY)/r*2-1;this.moving.forEach((s,a)=>{this.drag[a][0];const c=this.drag[a][1],l=this.drag[a][2];let u=this.drag[a][3]-c+(s.revert?-o:o),h=this.drag[a][4]-l+(s.revert?-i:i);s.coeff&&(u*=s.coeff,h*=s.coeff),s.add&&s.add.vert&&(h+=s.add.vert),s.add&&s.add.hor&&(u+=s.add.hor),this.target[a]=[u,h]})},B.prototype.setup=function(){this.setup_programs(),this.setup_buffers(),document.onmousemove=this.mouse_move.bind(this)},B.prototype.update_position=function(){this.moving.forEach((e,t)=>{const n=[(this.target[t][0]-this.warp.src[e.index][0])/80,(this.target[t][1]-this.warp.src[e.index][1])/80],r=Math.abs(n[0])+Math.abs(n[1]);r===1/0||r===-1/0||r===NaN||r>.001&&(Re(),this.warp.src[e.index][0]+=n[0],this.warp.src[e.index][1]+=n[1],ne.update())})};let Ae=!1;function Re(){Ae=!0}function Qe(){Y.update_position(),Ae&&(Y.draw(),Ae=!1),requestAnimationFrame(Qe)}function en(){const e=document.getElementById(W.canvasId);if(!e)throw Error("No canvas");e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight,new ResizeObserver(([n])=>{const{right:r,left:o,top:i,bottom:s}=n.contentRect;Je={right:r,left:o,top:i,bottom:s},Re()}).observe(e),ne=new re,Y=new B(ne.warps[1],document.getElementById(W.canvasId),W.canvasId);for(let n=0;n<W.dots.length;n++){let r=W.dots[n][0],o=W.dots[n][1];ne.add_pair(0,r,o)}ne.update(),Y.moving=W.moving,Y.target=W.target,Y.drag=Y.moving.map((n,r)=>[n.index,...Y.warp.src[n.index],...Y.warp.src[n.index]]),Re(),Qe()}const tn=()=>{if(!J)try{en();const e=document.querySelector(".page-bg__image--gradient");e.style.opacity=0}catch(e){console.warn(e)}},nn=()=>{const e="video-play",t=k(0,()=>{},i),n=document.querySelectorAll(".video-element video"),r=[...n].map(o);return document.addEventListener(e,s),M(...r,()=>{document.removeEventListener(e,s),t.disconnect()});function o(a){const c=a.closest(".video-element"),l=c.querySelector(".video-element__tooltip"),u=l.querySelector("p"),h=a.querySelector("source"),f=c.dataset.src;h.setAttribute("src",f),a.load();let d;return l.addEventListener("click",p),a.addEventListener("pause",v),a.addEventListener("play",m),a.addEventListener("ended",y),t.observe(a),()=>{l.removeEventListener("click",p),a.removeEventListener("pause",v),a.removeEventListener("play",m),a.removeEventListener("ended",y),clearTimeout(d)};function p(){a.play().catch(console.warn),document.dispatchEvent(new CustomEvent(e,{detail:a}))}function m(){clearTimeout(d),c.classList.add("video-element--playing")}function v(){clearTimeout(d),u.textContent="Resume",d=setTimeout(()=>{c.classList.remove("video-element--playing")},500)}function y(){document.fullscreenElement&&document.fullscreenElement===a&&document.exitFullscreen().catch(()=>{})}}function i(a){a.target.pause()}function s(a){n.forEach(c=>{c!==a.detail&&c.pause()})}},se=e=>{const t={BASE:"text-unblur",LINE:"text-unblur__line",ELEMENT:"text-unblur__word",TRANSITION:"text-unblur__transition",APPEARED:"text-unblur__appeared"};e.classList.add(t.BASE);const r=SplitText.create(e,{type:"lines, words",linesClass:t.LINE,wordsClass:t.ELEMENT}).words,o=.005;r.forEach((c,l)=>{c.style.setProperty("--delay",`${o*l}s`)});let i;return{animate:()=>new Promise(c=>{const l=r[r.length-1];i=()=>{l.removeEventListener("transitionend",u),i=null};const u=h=>{h.propertyName==="opacity"&&(e.classList.remove(t.TRANSITION),i==null||i(),c())};l.addEventListener("transitionend",u),e.classList.add(t.TRANSITION),setTimeout(()=>{r.forEach(h=>{e.classList.add(t.APPEARED)})},10)}),reset:()=>{i==null||i(),e.classList.remove(t.TRANSITION,t.APPEARED),e.classList.add(t.BASE)},cleanup:i}},rn=()=>{const e=document.querySelectorAll('[data-animation="text-blur"]');return Ze(e,se)},Ne=e=>{const t={BASE:"text-appear",ELEMENT:"text-appear__line",TRANSITION:"text-appear__transition",APPEARED:"text-appear__appeared"};e.classList.add(t.BASE);const r=SplitText.create(e,{type:"lines",mask:"lines",linesClass:t.ELEMENT}).lines,o=.15;r.forEach((c,l)=>{c.style.setProperty("--delay",`${o*l}s`)});let i;return{animate:()=>new Promise(c=>{const l=r[r.length-1];i=()=>{l.removeEventListener("transitionend",u),i=null};const u=h=>{h.propertyName==="transform"&&(e.classList.remove(t.TRANSITION),i==null||i(),c())};l.addEventListener("transitionend",u),e.classList.add(t.TRANSITION),setTimeout(()=>{e.classList.add(t.APPEARED)},10)}),reset:()=>{i==null||i(),r.forEach(c=>{c.classList.add(t.BASE)})},cleanup:i}},on=()=>{const e=document.querySelectorAll('[data-animation="text-appear"]');return Ze(e,Ne)},sn=()=>{if(!Ht)return Ge;const e=document.querySelectorAll("[data-safari-force-repaint]"),t=k(0,n,r);return e.forEach(o=>t.observe(o)),()=>t.disconnect();function n(o){o.target.classList.add("force-repaint")}function r(o){o.target.classList.remove("force-repaint")}},et="YT_READY",an=()=>{window.onYouTubeIframeAPIReady=()=>{document.dispatchEvent(new CustomEvent(et))},e();function e(){const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.body.appendChild(t)}},cn=()=>{qt(),jt(),Yt(),$t(),tn(),an()},ln=()=>M(rn(),on(),Gt(),zt(),Xt(),nn(),sn()),un=()=>{const e=document.querySelector(".hero");if(!e)return;const t=1.6,n=e.querySelector(".heading--h1"),r=e.querySelector(".hero__tagline p"),o=document.querySelector(".menu-btn"),i=document.querySelector(".fixed__logo__link");e.classList.add("initial"),i.classList.add("initial"),o.classList.add("initial"),SplitText.create(n,{type:"words"});const{animate:s,cleanup:a}=se(r),c=Ve(u);let l;return()=>{c==null||c(),a==null||a(),l&&(clearTimeout(l),l=null)};function u(){e.classList.add("transition"),i.classList.add("transition"),o.classList.add("transition"),l=setTimeout(()=>{e.classList.remove("initial"),i.classList.remove("initial"),l=setTimeout(()=>{s(),l=setTimeout(()=>{e.classList.remove("transition"),o.classList.remove("initial","transiiton")},t*500)},t*500)},50)}},fn=()=>{const e=document.querySelector(".hero__tip__content__icon");if(!e)return;const t=k(0,n,r);return t.observe(e),()=>t.disconnect();function n(){e.classList.add("animate")}function r(){e.classList.remove("animate")}},hn=()=>M(un(),fn()),dn=()=>{const e=document.querySelector(".approach");if(!e)return;const t=e.className,n=["step-0","step-1","step-2"],r=e.querySelector(".approach__counter"),o=r.querySelector(".approach__counter__number p"),i=r.querySelector(".approach__counter__line__fill"),s=e.querySelectorAll(".approach__text__entry p"),a=e.querySelectorAll(".approach__step"),c=a.length;let l=null;p(l);const u=[...a].map(h);return M(...u);function h(m,v){const y=s[v],{animate:L,reset:R,cleanup:P}=se(y),I=()=>{gsap.to(y,{opacity:1}),L()},E=()=>{gsap.to(y,{opacity:0,duration:.4}).then(R)},g=ScrollTrigger.create({trigger:m,start:"top 25%",end:"bottom 25%",scrub:!0,onToggle:O=>{O.isActive?(I(),f(v)):(E(),(v===0&&O.direction===-1||v===c-1&&O.direction===1)&&f(null,v===0))}});return()=>{g.kill(),P==null||P()}}function f(m,v=!1){m!==l&&(p(m),d(m,v),l=m)}function d(m=null,v=!1){if(m===null&&!v)return;const y=m===null?null:`animated ${n[m]}`;e.className=y?`${t} ${y}`:t}function p(m){if(m===null){i.style.setProperty("transform","scaleX(0)"),r.style.setProperty("opacity",0);return}l===null&&r.style.setProperty("opacity",1),o.innerText=`${m+1}/${c}`,i.style.setProperty("transform",`scaleX(${(m+1)/c})`)}},he="70%",A={TOP:`translateY(-${he})`,BOTTOM:`translateY(${he})`,ZERO:"translateY(0)",SCALE_DOWN:"scale(0.7)",SCALE_UP:"scale(1.3)",SCALE_ZERO:"scale(1)"},w={BLURRED:"blur(10px)",ZERO:"blur(0px)"},b=2,pn=(e,t)=>{const n=e.querySelectorAll(".services__step, .services__end"),r=e.querySelectorAll(".services__image__img"),o={BRAIN:"BRAIN",NERVES:"NERVES",LUNGS:"LUNGS",LYMPHS:"LYMPHS",HEART:"HEART",END:"END"},i=[o.BRAIN,o.NERVES,o.LUNGS,o.LYMPHS,o.HEART,o.END],s={FORWARD:"FORWARD",BACKWARD:"BACKWARD"},a={SHOW:"SHOW",HIDE:"HIDE"},c={[o.BRAIN]:r[0],[o.NERVES]:r[1],[o.LUNGS]:r[2],[o.LYMPHS]:r[3],[o.HEART]:r[4]},l={[o.BRAIN]:{[s.FORWARD]:{[a.SHOW]:()=>{gsap.fromTo(c.BRAIN,{opacity:0,transform:"translateY(25%)",filter:w.BLURRED},{opacity:1,transform:A.ZERO,filter:w.ZERO,duration:b/2})},[a.HIDE]:()=>{gsap.to(c.BRAIN,{opacity:0,transform:A.TOP,filter:w.BLURRED,duration:b})}},[s.BACKWARD]:{[a.SHOW]:()=>{gsap.fromTo(c.BRAIN,{opacity:0,transform:A.TOP,filter:w.BLURRED,duration:b},{opacity:1,transform:A.ZERO,filter:w.ZERO,duration:b})},[a.HIDE]:()=>{gsap.to(c.BRAIN,{opacity:0,transform:"translateY(5%)",filter:w.BLURRED,duration:b/2})}}},[o.NERVES]:{[s.FORWARD]:{[a.SHOW]:()=>{gsap.fromTo(c.NERVES,{opacity:0,transform:A.BOTTOM,filter:w.BLURRED},{opacity:1,transform:A.ZERO,filter:w.ZERO,duration:b})},[a.HIDE]:()=>{gsap.to(c.NERVES,{opacity:0,transform:A.TOP,filter:w.BLURRED,duration:b})}},[s.BACKWARD]:{[a.SHOW]:()=>{gsap.fromTo(c.NERVES,{opacity:0,transform:A.TOP,filter:w.BLURRED,duration:b},{opacity:1,transform:A.ZERO,filter:w.ZERO,duration:b})},[a.HIDE]:()=>{gsap.to(c.NERVES,{opacity:0,transform:A.BOTTOM,filter:w.BLURRED,duration:b})}}},[o.LUNGS]:{[s.FORWARD]:{[a.SHOW]:()=>{gsap.fromTo(c.LUNGS,{opacity:0,transform:A.BOTTOM,filter:w.BLURRED},{opacity:1,transform:A.ZERO,filter:w.ZERO,duration:b})},[a.HIDE]:()=>{gsap.to(c.LUNGS,{opacity:0,transform:A.SCALE_DOWN,filter:w.BLURRED,duration:b})}},[s.BACKWARD]:{[a.SHOW]:()=>{gsap.fromTo(c.LUNGS,{opacity:0,transform:A.SCALE_DOWN,filter:w.BLURRED,duration:b},{opacity:1,transform:A.SCALE_ZERO,filter:w.ZERO,duration:b})},[a.HIDE]:()=>{gsap.to(c.LUNGS,{opacity:0,transform:A.BOTTOM,filter:w.BLURRED,duration:b})}}},[o.LYMPHS]:{[s.FORWARD]:{[a.SHOW]:()=>{gsap.fromTo(c.LYMPHS,{opacity:0,transform:A.SCALE_UP,filter:w.BLURRED},{opacity:1,transform:A.SCALE_ZERO,filter:w.ZERO,duration:b})},[a.HIDE]:()=>{gsap.to(c.LYMPHS,{opacity:0,transform:A.SCALE_UP,filter:w.BLURRED,duration:b})}},[s.BACKWARD]:{[a.SHOW]:()=>{gsap.fromTo(c.LYMPHS,{opacity:0,transform:A.SCALE_UP,filter:w.BLURRED,duration:b},{opacity:1,transform:A.SCALE_ZERO,filter:w.ZERO,duration:b})},[a.HIDE]:()=>{gsap.to(c.LYMPHS,{opacity:0,transform:A.SCALE_UP,filter:w.BLURRED,duration:b})}}},[o.HEART]:{[s.FORWARD]:{[a.SHOW]:()=>{gsap.fromTo(c.HEART,{opacity:0,transform:A.SCALE_DOWN,filter:w.BLURRED},{opacity:1,transform:A.SCALE_ZERO,filter:w.ZERO,duration:b})},[a.HIDE]:()=>{gsap.to(c.HEART,{transform:"translate(-12%, 0%) scale(0.25)",duration:b})}},[s.BACKWARD]:{[a.SHOW]:()=>{gsap.to(c.HEART,{transform:A.SCALE_ZERO,duration:b})},[a.HIDE]:()=>{gsap.to(c.HEART,{opacity:0,transform:A.SCALE_DOWN,filter:w.BLURRED,duration:b})}}},[o.END]:{[s.FORWARD]:{[a.SHOW]:()=>{const f=2*b/t.heading.length;gsap.timeline().set(t.block,{opacity:1}).add("bg-change").to(t.image,{opacity:1,duration:b/4},"bg-change").to(t.bg,{opacity:1,duration:b/4},"bg-change").add("elements").to(t.logo,{opacity:1,transform:"scale(1)",duration:b/4},"elements").to(t.heading,{opacity:1,duration:f,stagger:.1/t.heading.length},"texts").to(t.text,{opacity:1,duration:f,stagger:.1/t.text.length},"texts").to(t.tagline,{opacity:1,duration:b/t.tagline.length,stagger:.1/t.tagline.length})}},[s.BACKWARD]:{[a.HIDE]:()=>{gsap.timeline().to(t.block,{opacity:0,duration:b/2}).set([t.image,t.bg],{opacity:0}).set([...t.heading,...t.text,...t.tagline],{opacity:0}).set(t.logo,{opacity:0,transform:"scale(0.75)"})}}}};r.forEach(f=>{gsap.set(f,{opacity:0,transform:`translateY(${he})`,filter:w.BLURRED})});let u;const h=[...n].map((f,d)=>{const p=d===n.length-1,m=ScrollTrigger.create({trigger:f,start:p?"top top":"top 50%",end:"bottom 50%",onToggle:v=>{var I,E;const y=i[d],L=v.direction===1?s.FORWARD:s.BACKWARD,R=v.isActive?a.SHOW:a.HIDE;u=(E=(I=l[y][L])[R])==null?void 0:E.call(I)}});return()=>m.kill()});return()=>{h.forEach(f=>f()),u==null||u.kill()}},mn=e=>{const t=J,n=e.querySelector(".services__end"),r={block:n,bg:n.querySelector(".services__end__bg"),logo:n.querySelector(".services__end__logo__image"),heading:f(n.querySelector(".heading--services-end")),text:f(n.querySelector(".services__end__text p")),tagline:f(n.querySelector(".services__end__tagline p")),image:n.querySelector(".services__end__image")};if(gsap.set([r.image,r.bg],{opacity:0}),gsap.set(r.logo,{opacity:0,transform:"scale(0.75)"}),t)return pn(e,r);const o=e.querySelector(".services__steps"),i=e.querySelectorAll(".services__image__img"),s={BRAIN:i[0],NERVES:i[1],LUNGS:i[2],LYMPHS:i[3],HEART:i[4]};i.forEach(d=>{gsap.to(d,{opacity:0,transform:`translateY(${he})`,filter:w.BLURRED})});const a=ScrollTrigger.create({trigger:n,start:"top top",onToggle:d=>{const{isActive:p,direction:m}=d;!!p&&m===1?c():!p&&m===-1&&l()}});function c(){const d=2*b/r.heading.length;return gsap.timeline().set(r.block,{opacity:1}).add("bg-change").to(r.image,{opacity:1,duration:b/4},"bg-change").to(r.bg,{opacity:1,duration:b/4},"bg-change").to(r.heading,{opacity:1,filter:w.ZERO,duration:d,stagger:.1/r.heading.length},"texts").to(r.text,{opacity:1,filter:w.ZERO,duration:d,stagger:.1/r.text.length},"texts").to(r.logo,{opacity:1,transform:"scale(1)",duration:b},"texts").to(r.tagline,{opacity:1,filter:w.ZERO,duration:b/r.tagline.length,stagger:.1/r.tagline.length})}function l(){return gsap.timeline().to(r.block,{opacity:0,duration:b/4}).set([r.image,r.bg],{opacity:0}).set([...r.heading,...r.text,...r.tagline],{opacity:0,filter:w.BLURRED}).set(r.logo,{opacity:0,transform:"scale(0.75)"})}const u=gsap.timeline({scrollTrigger:{trigger:o,start:t?"top 60%":"top 20%",end:"bottom center",scrub:1.5},defaults:{ease:"linear"}}).set(Object.values(s),{willChange:"opacity, transform, filter"}).add("step0").fromTo(s.BRAIN,{opacity:0,transform:"translateY(50%) scale(0.6)",filter:w.BLURRED},{opacity:1,transform:A.ZERO,filter:w.ZERO,duration:b/2},"step0").add("step1").to(s.BRAIN,{transform:A.TOP,filter:w.BLURRED,duration:b},"step1").to(s.NERVES,{opacity:1,duration:b/4},"step1").fromTo(s.NERVES,{transform:A.BOTTOM,filter:w.BLURRED},{transform:A.ZERO,filter:w.ZERO,duration:b},"step1").add("step2").to(s.BRAIN,{opacity:0,duration:b/4},"step2").to(s.NERVES,{transform:A.TOP,filter:w.BLURRED,duration:b},"step2").to(s.LUNGS,{opacity:1,duration:b/4},"step2").fromTo(s.LUNGS,{transform:A.BOTTOM,filter:w.BLURRED},{transform:A.ZERO,filter:w.ZERO,duration:b},"step2").add("step3").to(s.NERVES,{opacity:0,duration:b/4},"step3").to(s.LUNGS,{opacity:0,transform:A.SCALE_DOWN,filter:w.BLURRED,duration:b},"step3").fromTo(s.LYMPHS,{opacity:0,transform:A.SCALE_UP,filter:w.BLURRED},{opacity:1,transform:A.SCALE_ZERO,filter:w.ZERO,duration:b},"step3").add("step4").to(s.LYMPHS,{opacity:0,transform:A.SCALE_UP,filter:w.BLURRED,duration:b},"step4").fromTo(s.HEART,{opacity:0,transform:A.SCALE_DOWN,filter:w.BLURRED},{opacity:1,transform:A.SCALE_ZERO,filter:w.ZERO,duration:b},"step4").to(s.HEART,{transform:"translate(-12%, 0%) scale(0.25)",duration:b/2}).set(Object.values(s),{willChange:""}),h=[...i].map(d=>d.complete?Promise.resolve():new Promise(p=>{d.addEventListener("load",p)}));return Promise.all(h).then(()=>{requestAnimationFrame(()=>{u.seek(1),u.seek(0)})}),()=>{u.kill(),a.kill()};function f(d){const p=SplitText.create(d,{type:"lines",linesClass:"services__end__text-line"});return gsap.set(p.lines,{opacity:0}),t||gsap.set(p.lines,{filter:w.BLURRED}),p.lines}},Te=Le()?50:85,gn=e=>{const t=e.querySelector(".side-line"),n=e.querySelector(".glowing-line__line--glow"),r=gsap.timeline({scrollTrigger:{trigger:t,start:`top ${Te}%`,end:`bottom ${Te}%`,scrub:.5}}).fromTo(n,{scaleY:0},{scaleY:1,duration:1,ease:"none"});return()=>r.kill()},vn=e=>{const t=e.querySelectorAll(".services__step__heading"),n=e.querySelectorAll(".services__step__content p"),r=k(20,c),o=100-Te,i=new IntersectionObserver(l=>{l.forEach(u=>{u.isIntersecting?u.target.classList.add("appeared"):u.target.classList.remove("appeared")})},{threshold:0,rootMargin:`${o}% 0% -${o}% 0%`}),s=[...n].map(l=>{const{animate:u,cleanup:h}=se(l);return l.animate=u,r.observe(l),h}),a=[...t].map(l=>{const u=l.querySelector(".heading--services"),h=l.querySelector(".services__step__index"),{animate:f,cleanup:d}=Ne(u);return u.animate=f,r.observe(u),i.observe(h),d});return M(()=>r.disconnect(),()=>i.disconnect(),...s,...a);function c(l,u){u.unobserve(l.target),l.target.animate()}},yn=()=>{const e=document.querySelector(".services");if(e)return M(mn(e),gn(e),vn(e))},En=()=>{const e=document.querySelector(".solutions");if(!e)return;const t=e.querySelectorAll(".solutions__card");if(J)return bn(t)};function bn(e){const t=k(25,n=>{n.target.classList.add("active")},n=>{n.target.classList.remove("active")});return e.forEach(n=>t.observe(n)),()=>t.disconnect()}const wn=()=>{const e=document.querySelector(".strategy");if(!e)return;const t=e.querySelector(".heading--strategy"),n=e.querySelector(".strategy__content p"),{animate:r,cleanup:o}=se(n);n.animate=r;const{animate:i,cleanup:s}=Ne(t);t.animate=i;const a=k(15,c);return a.observe(n),a.observe(t),()=>{a.disconnect(),o==null||o(),s==null||s()};function c(l,u){l.target.animate(),u.unobserve(l.target)}},Sn=()=>M(hn(),dn(),yn(),En(),wn()),_n=()=>{const e=document.querySelector(".about-hero");if(!e)return;const t=e.querySelector(".about-hero__logo");setTimeout(()=>{t.classList.add("transition")},50);const n=k(0,o),r=ze(()=>n.observe(t));return M(r,()=>n.disconnect());function o(i,s){i.target.classList.add("shown"),s.disconnect()}},Ln=e=>{const t=e.querySelector(".story__timeline");if(!t)return;const n=k(50,o);Oe()||t.querySelectorAll(".timeline-entry").forEach(s=>{n.observe(s)});const r=setTimeout(()=>{t.classList.add("transition"),n.observe(t)},10);return()=>{clearTimeout(r),n.disconnect()};function o(i,s){i.target.classList.add("animated"),s.unobserve(i.target)}},An=[{year:1996,label:"North Carolina",toShow:"#fill-nc",toColor:"#state-nc"},{year:1997,label:"District of Columbia",toShow:"#fill-dc",toColor:"#state-dc"},{year:1999,label:"Rhode Island",toShow:"#fill-ri",toColor:"#state-ri, #line-ri"},{year:1999,label:"Pennsylvania",toShow:"#fill-pa",toColor:"#state-pa"},{year:2e3,label:"Virginia",toShow:"#fill-va",toColor:"#state-va"},{year:2002,label:"Florida",toShow:"#fill-fl",toColor:"#state-fl"},{year:2003,label:"Louisiana",toShow:"#fill-la",toColor:"#state-la"},{year:2003,label:"Arkansas",toShow:"#fill-ar",toColor:"#state-ar"},{year:2004,label:"California",toShow:"#fill-ca",toColor:"#state-ca"},{year:2004,label:"Colorado",toShow:"#fill-co",toColor:"#state-co"},{year:2005,label:"Maryland",toShow:"#fill-md",toColor:"#state-md, #line-md"},{year:2005,label:"Washington",toShow:"#fill-wa",toColor:"#state-wa"},{year:2005,label:"Michigan",toShow:"#fill-mi",toColor:"#state-mi"},{year:2006,label:"Ohio",toShow:"#fill-oh",toColor:"#state-oh"},{year:2006,label:"IWC East",toShow:".story__map__label-wrapper--iwc-east"},{year:2006,label:"Massachusetts",toShow:"#fill-ma",toColor:"#state-ma, #line-ma"},{year:2007,label:"South Carolina",toShow:"#fill-sc",toColor:"#state-sc"},{year:2007,label:"New Jersey",toShow:"#fill-nj",toColor:"#state-nj, #line-nj"},{year:2007,label:"Arizona",toShow:"#fill-az",toColor:"#state-az"},{year:2007,label:"New York",toShow:"#fill-ny",toColor:"#state-ny"},{year:2008,label:"West Virginia",toShow:"#fill-wv",toColor:"#state-wv"},{year:2008,label:"Oregon",toShow:"#fill-or",toColor:"#state-or"},{year:2008,label:"Tennessee",toShow:"#fill-tn",toColor:"#state-tn"},{year:2008,label:"Idaho",toShow:"#fill-id",toColor:"#state-id"},{year:2008,label:"Illinois",toShow:"#fill-il",toColor:"#state-il"},{year:2008,label:"Vermont",toShow:"#fill-vt",toColor:"#state-vt, #line-vt"},{year:2008,label:"Georgia",toShow:"#fill-ga",toColor:"#state-ga"},{year:2008,label:"Minnesota",toShow:"#fill-mn",toColor:"#state-mn"},{year:2008,label:"Alabama",toShow:"#fill-al",toColor:"#state-al"},{year:2008,label:"Kentucky",toShow:"#fill-ky",toColor:"#state-ky"},{year:2008,label:"Missouri",toShow:"#fill-mo",toColor:"#state-mo"},{year:2008,label:"Wyoming",toShow:"#fill-wy",toColor:"#state-wy"},{year:2008,label:"Connecticut",toShow:"#fill-ct",toColor:"#state-ct, #line-ct"},{year:2008,label:"Texas",toShow:"#fill-tx",toColor:"#state-tx"},{year:2009,label:"New Hampshire",toShow:"#fill-nh",toColor:"#state-nh, #line-nh"},{year:2009,label:"Alaska",toShow:"#fill-ak",toColor:"#state-ak"},{year:2011,label:"New Mexico",toShow:"#fill-nm",toColor:"#state-nm"},{year:2011,label:"Mississippi",toShow:"#fill-ms",toColor:"#state-ms"},{year:2013,label:"Nevada",toShow:"#fill-nv",toColor:"#state-nv"},{year:2013,label:"Delaware",toShow:"#fill-de",toColor:"#state-de, #line-de"},{year:2013,label:"Wisconsin",toShow:"#fill-wi",toColor:"#state-wi"},{year:2013,label:"Kansas",toShow:"#fill-ks",toColor:"#state-ks"},{year:2014,label:"Maine",toShow:"#fill-me",toColor:"#state-me"},{year:2014,label:"Newton office",toShow:".story__map__label-wrapper--newton"},{year:2016,label:"Iowa",toShow:"#fill-ia",toColor:"#state-ia"},{year:2017,label:"Nebraska",toShow:"#fill-ne",toColor:"#state-ne"},{year:2017,label:"Utah",toShow:"#fill-ut",toColor:"#state-ut"},{year:2018,label:"North Dakota",toShow:"#fill-nd",toColor:"#state-nd"},{year:2018,label:"Atlanta office",toShow:".story__map__label-wrapper--atlanta"},{year:2020,label:"Oklahoma",toShow:"#fill-ok",toColor:"#state-ok"},{year:2020,label:"South Dakota",toShow:"#fill-sd",toColor:"#state-sd"},{year:2021,label:"Indiana",toShow:"#fill-in",toColor:"#state-in"},{year:2023,label:"Hawaii",toShow:"#fill-hi",toColor:"#state-hi"},{year:2023,label:"IWC West",toShow:".story__map__label-wrapper--iwc-west"},{year:2023,label:"Montana",toShow:"#fill-mt",toColor:"#state-mt"},{year:2024,label:"Gainesville office",toShow:".story__map__label-wrapper--gainesville"},{year:2024,label:"Raleigh office",toShow:".story__map__label-wrapper--raleigh"}],Rn=e=>{const t=e.querySelector(".story__map"),n={year:t.querySelector(".story__map__year__text"),label:t.querySelector(".story__map__state p")},r=500;let o=-1,i;const s=[],a=[],c=An.map(y=>{const L=t.querySelectorAll(y.toShow);s.push(...L);const R=t.querySelectorAll(y.toColor);return a.push(...R),{...y,elementsToShow:L,elementsToColor:R}});s.forEach(y=>{y.classList.add("map-entry--to-show")}),a.forEach(y=>{y.classList.add("map-entry--to-color")});const l=k(0,u,h);return l.observe(t),()=>{l.disconnect(),i&&clearTimeout(i)};function u(){i&&clearTimeout(i),f()}function h(){i&&(clearTimeout(i),i=null)}function f(){o+=1,o>=c.length?(o=-1,m()):d(),i=setTimeout(f,r)}function d(){const{elementsToShow:y,elementsToColor:L,year:R,label:P}=c[o];v([...y,...L]),p(R,P)}function p(y=null,L=null){y===null?(n.year.textContent="peep",n.label.textContent="poop"):(n.year.textContent=y,n.label.textContent=L)}function m(){[...s,...a].forEach(y=>{y.classList.remove("active")})}function v(y){y.forEach(L=>{L.classList.add("active")})}},Tn=()=>{const e=document.querySelector(".story");if(e)return M(Ln(e),Rn(e))},Pn=e=>{const t=document.querySelector(".team-member-popup");if(!t)return;const n=t.querySelector(".team-member"),r=t.querySelector(".team-member-popup__close"),o=e.querySelectorAll(".team__entry a");let i=null;const s=[],a={},c={prev:t.querySelector(".team-member__button--prev"),next:t.querySelector(".team-member__button--next")},l=P(t);n.style.setProperty("--total",o.length),c.prev.addEventListener("click",L),c.next.addEventListener("click",y);const u=[...o].map((E,g)=>{const O=E.href;s[g]=O;const C=_=>{_.ctrlKey||_.shiftKey||_.altKey||(_.preventDefault(),h(O,g))};return E.addEventListener("click",C),()=>E.removeEventListener("click",C)});return r.addEventListener("click",v),()=>{u.forEach(E=>E()),r.removeEventListener("click",v),c.prev.removeEventListener("click",L),c.next.removeEventListener("click",y)};function h(E,g){i=g,n.style.setProperty("--current",i+1),gsap.set([l.card,l.content],{opacity:0});const O=R(E),C=m();Promise.all([O,C]).then(([_])=>f(_))}function f(E){n.scrollTo(0,0);const g=E.querySelector(".team-member__card"),O=P(g),C=E.querySelector(".team-member__content");I(l,O),l.content.innerHTML=C.innerHTML,gsap.to([l.card,l.content],{opacity:1,duration:.4})}function d(E){const g=R(s[E]),O=p();Promise.all([g,O]).then(([C])=>{f(C),i=E,n.style.setProperty("--current",i+1)})}function p(){return gsap.to([l.card,l.content],{opacity:0,duration:.4})}function m(){return xe(),gsap.timeline().to(t,{opacity:0,display:"block"}).to(t,{opacity:1,duration:.8})}function v(){return gsap.timeline().to(t,{opacity:0,duration:.8}).to(t,{display:"none"}).add(()=>Ce())}function y(E){E.preventDefault();const g=(i+1)%s.length;d(g)}function L(E){E.preventDefault();const g=(i-1+s.length)%s.length;d(g)}function R(E){return a[E]?Promise.resolve(a[E].cloneNode(!0)):fetch(E).then(g=>g.text()).then(g=>{const _=new DOMParser().parseFromString(g,"text/html").querySelector(".team-member");return a[E]=_,_.cloneNode(!0)}).catch(g=>{console.error("Failed to fetch page: ",g)})}function P(E){const g=E.querySelector("#team-member-email"),O=E.querySelector("#team-member-phone"),C=E.querySelector("#team-member-linkedin");return{card:E.querySelector(".team-member__card"),person:E.querySelector(".team-member__person"),emailLink:g,emailLabel:g.querySelector("p"),phoneLink:O,phoneLabel:O.querySelector("p"),linkedinLink:C,linkedinLabel:C.querySelector("p"),content:E.querySelector(".team-member__content")}}function I(E,g){E.person.innerHTML=g.person.innerHTML,E.emailLink.setAttribute("href",g.emailLink.getAttribute("href")),E.emailLabel.textContent=g.emailLabel.textContent,E.phoneLink.setAttribute("href",g.phoneLink.getAttribute("href")),E.phoneLabel.textContent=g.phoneLabel.textContent,E.linkedinLink.setAttribute("href",g.linkedinLink.getAttribute("href")),E.linkedinLabel.textContent=g.linkedinLabel.textContent}},On=e=>{const t=e.querySelector(".team__list"),n=e.querySelector(".team__progress__bar");return r(),t.addEventListener("scroll",r),()=>{t.removeEventListener("scroll",r)};function r(){const o=t.scrollLeft,i=t.scrollWidth,s=t.clientWidth,a=(o+s)/i;n.style.setProperty("--progress",a)}},xn=()=>{const e=document.querySelector(".team");if(e)return M(Pn(e),On(e))},Cn=(e,t)=>{const a=.050000000000000044,c=(1/(t.length+2)).toFixed(2),l=ScrollTrigger.create({trigger:e,start:"top bottom",end:"bottom top",scrub:!0,onUpdate:f=>{t.forEach((d,p)=>{const m=c*p,v=f.progress-m,y=-200+600*v,L=(.4-v)/a;d.style.setProperty("--translation",`${y}px`),d.style.setProperty("--opacity",L)})}}),u=k(0,h);u.observe(e);function h(){l.refresh()}return()=>{l.kill(),u.disconnect()}},Nn=(e,t)=>{const n={prev:e.querySelector(".testimonials__button--prev"),next:e.querySelector(".testimonials__button--next")},r="testimonials__entry";t.forEach(l=>{const u=l.querySelector("video");l.pauseVideo=()=>u.pause()});let o=0;return n.prev.addEventListener("click",c),n.next.addEventListener("click",a),i(),()=>{n.prev.removeEventListener("click",c),n.next.removeEventListener("click",a),o=0,i(),s()};function i(){n.prev.classList.toggle("testimonials__button--hidden",o===0),n.next.classList.toggle("testimonials__button--hidden",o===t.length-1)}function s(){t.forEach((l,u)=>{const h=Math.max(u+1-o,0),f=`${r} ${r}--${h}`;u!==o&&l.pauseVideo(),l.classList=f})}function a(){o+=1,s(),i()}function c(){o-=1,s(),i()}},In=()=>{const e=document.querySelector(".testimonials");if(!e)return;const t=e.querySelectorAll(".testimonials__entry");let n;return r(),window.addEventListener("resize",r,{passive:!0}),()=>{n==null||n(),window.removeEventListener("resize",r)};function r(){n==null||n(),n=o()}function o(){return Oe()?Cn(e,t):Nn(e,t)}},qn=()=>{if(Ut)return;const e=document.querySelector(".cta__buttons");if(!e)return;const t={left:e.querySelector(".cta__button--left"),right:e.querySelector(".cta__button--right")};if($e()){const o=k(45,n,r);return o.observe(t.left),o.observe(t.right),()=>o.disconnect()}else{const o=k(0,n,r,{marginTop:43,marginBottom:47}),i=k(0,n,r,{marginTop:47,marginBottom:51});return o.observe(t.right),i.observe(t.left),()=>{o.disconnect(),i.disconnect()}}function n(o){o.target.classList.add("active")}function r(o){o.target.classList.remove("active")}},kn=()=>M(_n(),Tn(),xn(),In(),qn()),Mn="pln_member-subscription-9qbl0tte",Dn=()=>window.$memberstackDom.getCurrentMember().then(({data:e=null})=>e),Bn=(e=null)=>{var n;if(!e||!((n=e.planConnections)!=null&&n.length))return!1;const t=e.planConnections.find(({planId:r})=>r===Mn);return(t==null?void 0:t.active)||!1},Un=(e,t,n)=>{const r={x:0,y:0},o={x:0,y:0},i=1,s=gsap.utils.interpolate;gsap.ticker.add(c),e.classList.add("moving-tooltip");const a=[...n].map(p=>{return p.addEventListener("mouseenter",m),()=>{p.removeEventListener("mouseenter",m),p.removeEventListener("mouseleave",v)};function m(){e.classList.add("shown"),p.addEventListener("mouseleave",v)}function v(){e.classList.remove("shown"),p.removeEventListener("mouseleave",v)}});return t.addEventListener("mouseenter",u),()=>{gsap.ticker.remove(c),t.removeEventListener("mouseenter",u),t.removeEventListener("mousemove",l),t.removeEventListener("mouseleave",h),a.forEach(p=>p())};function c(){o.x=s(o.x,r.x,.05),o.y=s(o.y,r.y,.05);const p=o.x*i,m=o.y*i;d(p,m)}function l(p){r.x=p.clientX,r.y=p.clientY}function u(p){f(p.clientX,p.clientY),t.addEventListener("mousemove",l),t.addEventListener("mouseleave",h)}function h(p){t.removeEventListener("mousemove",l)}function f(p,m){r.x=p,r.y=m,o.x=p,o.y=m;const v=o.x*i,y=o.y*i;d(v,y)}function d(p,m){gsap.set(e,{x:p,y:m})}},ve="YT_PLAY",Hn=async(e,t=()=>{},n=()=>{})=>{const r=e.querySelector('[data-youtube-video="placeholder"]'),{src:o}=e.dataset;e.removeAttribute("data-src");const i=m(o),s=await l();r.id=i;const a=new CustomEvent(ve,{detail:{videoId:i}});document.addEventListener(ve,p);const c=new s.Player(i,{height:"390",width:"640",videoId:i,playerVars:{playsinline:1},events:{onStateChange:d}});return{play:h,pause:f,cleanup:u};function l(){return window.YT?Promise.resolve(window.YT):new Promise(v=>{document.addEventListener(et,()=>{v(window.YT)})})}function u(){c.destroy(),document.removeEventListener(ve,p)}function h(){c.playVideo()}function f(){c.pauseVideo()}function d(v){v.data==s.PlayerState.PLAYING?(t(),document.dispatchEvent(a)):v.data==s.PlayerState.PAUSED&&n()}function p(v){v.detail.videoId!==i&&f()}function m(v){return new URL(v).searchParams.get("v")}},Fn=()=>{const e=document.querySelector(".media");if(!e)return;const t=document.querySelector(".media__content"),n=t.querySelectorAll('[data-gated-post="post"]'),r=t.querySelector(".media__enter-button");let o=!1;const i=[];return Dn().then(s),()=>{i.forEach(h=>h==null?void 0:h())};function s(h){o=Bn(h),o&&t.classList.add("subscribed");const f=[...n].filter(a);if(!J){const d=Un(r,e,f);i.push(d)}}function a(h){const d=!!h.querySelector('[data-gated-post="is-open"]')||o;return u(h,d),l(h,d),c(h,d),!d}function c(h,f=!1){h.classList.toggle("unblocked",f)}async function l(h,f=!1){const d=h.querySelector('[data-youtube-video="container"]');if(!d)return;if(!f){d.removeAttribute("data-src");return}let p=!1;const{play:m,pause:v,cleanup:y}=await Hn(d,R,P);h.addEventListener("click",L),i.push(()=>{y(),h.removeEventListener("click",m)});function L(){p?v():m()}function R(){p=!0,d.classList.add("playing")}function P(){p=!1,d.classList.remove("playing")}}function u(h,f=!1){const d=h.querySelector('[data-gated-post="true-link"]');if(d){const p=d.getAttribute("href");d.remove();const m=h.querySelector('[data-gated-post="link"]');m&&f&&m.setAttribute("href",p)}}},tt=(e,t,n,r)=>{let o=0;e.classList.add("hor-scroll"),n.classList.add("hor-scroll-button"),r.classList.add("hor-scroll-button");const i=new ResizeObserver(s);return i.observe(e),n.addEventListener("click",a),r.addEventListener("click",c),e.addEventListener("scroll",u),u(),()=>{i.disconnect(),n.removeEventListener("click",a),r.removeEventListener("click",c),e.removeEventListener("scroll",u)};function s(){const{left:h}=t[0].getBoundingClientRect(),{left:f}=t[1].getBoundingClientRect();o=f-h}function a(){if(e.scrollLeft<=0){e.scrollLeft=0;return}const h=e.scrollLeft-o;l(h)}function c(){if(e.scrollLeft>=e.scrollWidth-e.clientWidth){e.scrollLeft=e.scrollWidth-e.clientWidth;return}const h=e.scrollLeft+o;l(h)}function l(h){e.scrollTo({left:h,behavior:"smooth"})}function u(h){n.classList.toggle("disabled",e.scrollLeft<=0),r.classList.toggle("disabled",e.scrollLeft>=e.scrollWidth-e.clientWidth)}},Wn=()=>{const e=document.querySelector(".events");if(!e)return;const t=e.querySelector(".events__list"),n=t.querySelectorAll(".events__entry"),[r,o]=e.querySelectorAll(".arrow-button");return tt(t,n,r,o)},Yn=(e,t,n)=>{const o=e.querySelector(t),i=o.querySelector(n),{durationDesk:s=20,durationTablet:a=s,durationMobile:c=a,direction:l="left"}=e.dataset;e.classList.add("runner"),l==="right"?e.classList.add("runner--right"):l==="top"?e.classList.add("runner--top"):l==="bottom"&&e.classList.add("runner--bottom"),o.classList.add("runner__wrapper"),i.classList.add("runner__entry");let u=!1,h=1,f,d=1,p,m;const v=new ResizeObserver(([T])=>{clearTimeout(p),p=setTimeout(()=>R(T),250)});v.observe(i);const y=new ResizeObserver(([T])=>{clearTimeout(m),m=setTimeout(()=>P(T),250)});return y.observe(o),{toggleRunner:_,cleanup:L};function L(){v.disconnect(),y.disconnect()}function R(T){const S=E(T);(d!==S||!u)&&(C(S),d=S,u=!0)}function P(T){const S=g(T);h!==S&&(O(S),h=S)}function I(){return l==="left"||l==="right"}function E(T){return I()?Math.ceil(e.offsetWidth/T.contentRect.width):Math.ceil(e.offsetHeight/T.contentRect.height)}function g(T){return I()?T.contentRect.width/e.offsetWidth:T.contentRect.height/e.offsetHeight}function O(T){e.style.setProperty("--duration-desk",`${s*T}s`),e.style.setProperty("--duration-tablet",`${a*T}s`),e.style.setProperty("--duration-mobile",`${c*T}s`)}function C(T){if(T>d){const S=T-d;for(let N=0;N<S;N++){const x=i.cloneNode(!0);o.appendChild(x)}}else{const S=d-T;for(let N=0;N<S;N++)o.removeChild(o.lastElementChild)}f&&f.remove(),f=o.cloneNode(!0),o.after(f),e.classList.add("runner--reset"),setTimeout(()=>e.classList.remove("runner--reset"),10)}function _(T=!1){T?e.classList.add("runner--visible"):e.classList.remove("runner--visible")}},Vn=e=>{const{toggleRunner:t,cleanup:n}=Yn(e,".past-events__runner",".past-events__runner__entry"),r=k(0,()=>t(!0),()=>t(!1));return r.observe(e),M(n,()=>r.disconnect())},jn=e=>{const t=e.querySelectorAll(".past-events__event"),[n,r]=e.querySelectorAll(".arrow-button");let o=0;return t[0].classList.add("active"),n.addEventListener("click",s),r.addEventListener("click",i),()=>{n.removeEventListener("click",s),r.removeEventListener("click",i)};function i(){const c=(o+1)%t.length;a(c)}function s(){const c=(o-1+t.length)%t.length;a(c)}function a(c){t[o].classList.remove("active"),t[c].classList.add("active"),o=c}},$n=e=>{const t=ScrollTrigger.create({trigger:e,start:"top bottom",end:"bottom top",scrub:!0,onUpdate:o=>{const i=o.progress.toFixed(2);e.style.setProperty("--progress",i)}}),n=k(0,r);return n.observe(e),()=>{t.kill(),n.disconnect()};function r(){t.refresh()}},Gn=()=>{const e=document.querySelector(".past-events");if(e)return M(Vn(e),jn(e),$n(e))},zn=()=>{const e=document.querySelector(".external-media");if(!e)return;const t=e.querySelector(".external-media__list"),n=t.querySelectorAll(".external-media__entry"),[r,o]=e.querySelectorAll(".arrow-button");return tt(t,n,r,o)};class Zn{constructor(){Ie(this,"baseUrl","https://integrated-wealthcare.webflow.io/app/api")}getCollections(){return fetch(`${this.baseUrl}/collections`).then(t=>t.json())}}const Xn=new Zn;class De{static get(t){return JSON.parse(sessionStorage.getItem(t))}static set(t,n){sessionStorage.setItem(t,JSON.stringify(n))}static remove(t){sessionStorage.removeItem(t)}}const Kn=()=>{const e="collections",t=De.get(e);if(t){o(t);return}const n=Xn.getCollections();let r=null;return new Promise((s,a)=>{r=a}),Promise.all([n,r]).then(([s])=>o(s)),r;function o(s){De.set(e,s),s.forEach(({id:a,name:c,count:l})=>{const u=document.querySelectorAll(`[data-collection-title="${a}"]`),h=document.querySelectorAll(`[data-collection-number="${a}"]`);u.forEach(f=>i(f,c)),h.forEach(f=>{const d=f.dataset.collectionNumberDecrement?parseInt(f.dataset.collectionNumberDecrement):0;i(f,l-d)})})}function i(s,a){s.textContent=a}},Jn=()=>M(Fn(),Kn(),Wn(),Gn(),zn());gsap&&gsap.defaults({duration:0,ease:"power2.inOut"});let Be=!1,le;window.isTransitioning=!1;tr();function Qn(){cn(),kt(nt)}function er(){switch(Ft()){case"home":return Sn();case"about":return kn();case"media":return Jn();default:return()=>{}}}function nt(){try{le&&(le(),le=null);const e=ln(),t=er();le=()=>{e==null||e(),t==null||t()}}catch(e){console.error(e)}}function tr(){Be||(Qn(),Be=!0),document.fonts.ready.then(()=>{nt(),Vt()})}
