import{i as N,g as A,u as Y,a as x,e as M,j as z,k as B,b as F}from"./index.js";import{u as H}from"./index16.js";import"./index13.js";const V=()=>{const l=document.querySelector(".about-hero");if(!l)return;const t=l.querySelector(".about-hero__logo");if(!t)return;if(N()){t.classList.add("shown");return}setTimeout(()=>{t.classList.add("transition")},50);const o=A(0,i),c=Y(()=>o.observe(t));return x(c,()=>o.disconnect());function i(a,n){a.target.classList.add("shown"),n.disconnect()}},$=l=>{const t=l.querySelector(".story__timeline");if(!t)return;if(N()){t.classList.add("animated"),t.querySelectorAll(".timeline-entry").forEach(n=>{n.classList.add("animated")});return}const o=A(50,i);M()||t.querySelectorAll(".timeline-entry").forEach(n=>{o.observe(n)});const c=setTimeout(()=>{t.classList.add("transition"),o.observe(t)},10);return()=>{clearTimeout(c),o.disconnect()};function i(a,n){a.target.classList.add("animated"),n.unobserve(a.target)}},K=[{year:1996,label:"North Carolina",toShow:"#fill-nc",toColor:"#state-nc"},{year:1997,label:"District of Columbia",toShow:"#fill-dc",toColor:"#state-dc"},{year:1999,label:"Rhode Island",toShow:"#fill-ri",toColor:"#state-ri, #line-ri"},{year:1999,label:"Pennsylvania",toShow:"#fill-pa",toColor:"#state-pa"},{year:2e3,label:"Virginia",toShow:"#fill-va",toColor:"#state-va"},{year:2002,label:"Florida",toShow:"#fill-fl",toColor:"#state-fl"},{year:2003,label:"Louisiana",toShow:"#fill-la",toColor:"#state-la"},{year:2003,label:"Arkansas",toShow:"#fill-ar",toColor:"#state-ar"},{year:2004,label:"California",toShow:"#fill-ca",toColor:"#state-ca"},{year:2004,label:"Colorado",toShow:"#fill-co",toColor:"#state-co"},{year:2005,label:"Maryland",toShow:"#fill-md",toColor:"#state-md, #line-md"},{year:2005,label:"Washington",toShow:"#fill-wa",toColor:"#state-wa"},{year:2005,label:"Michigan",toShow:"#fill-mi",toColor:"#state-mi"},{year:2006,label:"Ohio",toShow:"#fill-oh",toColor:"#state-oh"},{year:2006,label:"IWC East",toShow:".story__map__label-wrapper--iwc-east"},{year:2006,label:"Massachusetts",toShow:"#fill-ma",toColor:"#state-ma, #line-ma"},{year:2007,label:"South Carolina",toShow:"#fill-sc",toColor:"#state-sc"},{year:2007,label:"New Jersey",toShow:"#fill-nj",toColor:"#state-nj, #line-nj"},{year:2007,label:"Arizona",toShow:"#fill-az",toColor:"#state-az"},{year:2007,label:"New York",toShow:"#fill-ny",toColor:"#state-ny"},{year:2008,label:"West Virginia",toShow:"#fill-wv",toColor:"#state-wv"},{year:2008,label:"Oregon",toShow:"#fill-or",toColor:"#state-or"},{year:2008,label:"Tennessee",toShow:"#fill-tn",toColor:"#state-tn"},{year:2008,label:"Idaho",toShow:"#fill-id",toColor:"#state-id"},{year:2008,label:"Illinois",toShow:"#fill-il",toColor:"#state-il"},{year:2008,label:"Vermont",toShow:"#fill-vt",toColor:"#state-vt, #line-vt"},{year:2008,label:"Georgia",toShow:"#fill-ga",toColor:"#state-ga"},{year:2008,label:"Minnesota",toShow:"#fill-mn",toColor:"#state-mn"},{year:2008,label:"Alabama",toShow:"#fill-al",toColor:"#state-al"},{year:2008,label:"Kentucky",toShow:"#fill-ky",toColor:"#state-ky"},{year:2008,label:"Missouri",toShow:"#fill-mo",toColor:"#state-mo"},{year:2008,label:"Wyoming",toShow:"#fill-wy",toColor:"#state-wy"},{year:2008,label:"Connecticut",toShow:"#fill-ct",toColor:"#state-ct, #line-ct"},{year:2008,label:"Texas",toShow:"#fill-tx",toColor:"#state-tx"},{year:2009,label:"New Hampshire",toShow:"#fill-nh",toColor:"#state-nh, #line-nh"},{year:2009,label:"Alaska",toShow:"#fill-ak",toColor:"#state-ak"},{year:2011,label:"New Mexico",toShow:"#fill-nm",toColor:"#state-nm"},{year:2011,label:"Mississippi",toShow:"#fill-ms",toColor:"#state-ms"},{year:2013,label:"Nevada",toShow:"#fill-nv",toColor:"#state-nv"},{year:2013,label:"Delaware",toShow:"#fill-de",toColor:"#state-de, #line-de"},{year:2013,label:"Wisconsin",toShow:"#fill-wi",toColor:"#state-wi"},{year:2013,label:"Kansas",toShow:"#fill-ks",toColor:"#state-ks"},{year:2014,label:"Maine",toShow:"#fill-me",toColor:"#state-me"},{year:2014,label:"Newton office",toShow:".story__map__label-wrapper--newton"},{year:2016,label:"Iowa",toShow:"#fill-ia",toColor:"#state-ia"},{year:2017,label:"Nebraska",toShow:"#fill-ne",toColor:"#state-ne"},{year:2017,label:"Utah",toShow:"#fill-ut",toColor:"#state-ut"},{year:2018,label:"North Dakota",toShow:"#fill-nd",toColor:"#state-nd"},{year:2018,label:"Atlanta office",toShow:".story__map__label-wrapper--atlanta"},{year:2020,label:"Oklahoma",toShow:"#fill-ok",toColor:"#state-ok"},{year:2020,label:"South Dakota",toShow:"#fill-sd",toColor:"#state-sd"},{year:2021,label:"Indiana",toShow:"#fill-in",toColor:"#state-in"},{year:2023,label:"Hawaii",toShow:"#fill-hi",toColor:"#state-hi"},{year:2023,label:"IWC West",toShow:".story__map__label-wrapper--iwc-west"},{year:2023,label:"Montana",toShow:"#fill-mt",toColor:"#state-mt"},{year:2024,label:"Gainesville office",toShow:".story__map__label-wrapper--gainesville"},{year:2024,label:"Raleigh office",toShow:".story__map__label-wrapper--raleigh"}],j=l=>{const t=l.querySelector(".story__map"),o={year:t.querySelector(".story__map__year p"),numbers:t.querySelectorAll(".story__map__year__number"),label:t.querySelector(".story__map__state p")},c=500;let i=-1,a=-1,n;const p=[],S=[],m=K.map(y=>{const _=t.querySelectorAll(y.toShow);p.push(..._);const w=t.querySelectorAll(y.toColor);return S.push(...w),{...y,elementsToShow:_,elementsToColor:w}});p.forEach(y=>{y.classList.add("map-entry--to-show")}),S.forEach(y=>{y.classList.add("map-entry--to-color")});const s=A(0,C,g);return s.observe(t),()=>{s.disconnect(),n&&clearTimeout(n)};function C(){n&&clearTimeout(n),v()}function g(){n&&(clearTimeout(n),n=null)}function v(){i=a,a+=1,a>=m.length?(i=m.length-1,a=-1,k()):q(),n=setTimeout(v,c)}function q(){I(),T()}function T(){const{year:y="",label:_=""}=m[i]||{},{year:w,label:E}=m[a];o.label.textContent=E,L(w,y)}function L(y,_){if(!_||y===_)return;const w=y.toString().split(""),E=_.toString().split(""),P=[...o.numbers].filter((e,r)=>(e.style.setProperty("--prev",`'${E[r]}'`),e.textContent=w[r],w[r]!==E[r]));gsap.to(P,{transform:"translateY(100%)"}),gsap.to(P,{transform:"translateY(0)",duration:c/2e3})}function k(){[...p,...S].forEach(y=>{y.classList.remove("active")})}function I(){const{elementsToShow:y,elementsToColor:_}=m[a];[...y,..._].forEach(w=>{w.classList.add("active")})}},X=()=>{const l=document.querySelector(".story");if(l)return x($(l),j(l))},G=l=>{if(N())return;const t=l.querySelectorAll(".team__card"),o=A(10,c);return i(t,"blured"),setTimeout(()=>{i(t,"transition"),t.forEach(a=>o.observe(a))}),()=>o.disconnect();function c(a){a.target.classList.remove("blured"),o.unobserve(a.target)}function i(a,n){a.forEach(p=>p.classList.add(n))}},U=l=>{const t=document.querySelector(".team-member-popup");if(!t)return;const o=t.querySelector(".team-member"),c=o.querySelector(".team-member__data"),i=t.querySelector(".team-member-popup__close"),a=l.querySelectorAll(".team__entry");let n=null;const p=[],S={},m={prev:t.querySelector(".team-member__button--prev"),next:t.querySelector(".team-member__button--next")},s=P(t);o.style.setProperty("--total",a.length),m.prev.addEventListener("click",w),m.next.addEventListener("click",_);const C=[...a].map((e,r)=>{const u=e.querySelector("a"),d=u.href;p[r]=d;const h=e.querySelector(".team__entry__images"),f=b=>{b.ctrlKey||b.shiftKey||b.altKey||(b.preventDefault(),g(d,r,h))};return u.addEventListener("click",f),()=>u.removeEventListener("click",f)});return i.addEventListener("click",y),()=>{C.forEach(e=>e()),i.removeEventListener("click",y),m.prev.removeEventListener("click",w),m.next.removeEventListener("click",_)};function g(e,r,u){n=r,o.style.setProperty("--current",n+1),gsap.set([s.card,s.content],{opacity:0});const d=E(e),h=I(u);Promise.all([d,h]).then(([f,b])=>v(f,{movingImage:b}))}function v(e,{isForwards:r=!0,movingImage:u=null,isDesktop:d=!0}={}){o.scrollTo(0,0),c.scrollTo(0,0);const h=e.querySelector(".team-member__card"),f=e.querySelector(".team-member__content");q(h,{isStatic:u!==null,isForwards:r,isDesktop:d}),s.content.innerHTML=f.innerHTML,gsap.to([s.card,s.content],{opacity:1,duration:.4}),u&&gsap.timeline().to(u,{opacity:0,duration:.4,delay:.2}).add(()=>u.remove())}function q(e,{isStatic:r=!1,isForwards:u=!0,isDesktop:d=!0}={}){if(r||!d){d||gsap.set(e,{opacity:0}),s.card.remove(),s.cardWrapper.appendChild(e),s.card=e;return}u?s.cardWrapper.appendChild(e):(s.cardWrapper.insertBefore(e,s.card),gsap.set([s.card,e],{transform:"translateX(-100%)"}));const h=u?"-100%":"0";return gsap.timeline().to([s.card,e],{transform:`translateX(${h})`,duration:.8}).add(()=>{s.card.remove(),gsap.set(e,{transform:"translateX(0)"}),s.card=e})}function T(e,r=!0){const u=M(),d=E(p[e]),h=k(u);L(e),Promise.all([d,h]).then(([f])=>{v(f,{isForwards:r,isDesktop:u}),n=e,o.style.setProperty("--current",n+1)})}function L(e){a[e].scrollIntoView({block:"center",inline:"nearest"})}function k(e=!0){const r=[s.content];return e||r.push(s.card),gsap.to(r,{opacity:0,duration:.4})}async function I(e){const r=e.cloneNode(!0),{x:u,y:d,width:h,height:f}=e.getBoundingClientRect();gsap.set(r,{position:"fixed",zIndex:12,top:0,left:0,x:u,y:d,width:h,height:f}),document.body.appendChild(r),B(),gsap.set(t,{opacity:0,display:"block"});const b=o.querySelector(".team-member__person__placeholder"),{x:D,y:O,width:W,height:R}=b.getBoundingClientRect();return await gsap.timeline().add("show").to(t,{opacity:1,duration:.8},"show").to(r,{x:D,y:O,width:W,height:R,duration:.8},"show"),r}function y(){return gsap.timeline().to(t,{opacity:0,duration:.8}).to(t,{display:"none"}).add(()=>z())}function _(e){e.preventDefault();const r=(n+1)%p.length;T(r,!0)}function w(e){e.preventDefault();const r=(n-1+p.length)%p.length;T(r,!1)}function E(e){return S[e]?Promise.resolve(S[e].cloneNode(!0)):fetch(e).then(r=>r.text()).then(r=>{const h=new DOMParser().parseFromString(r,"text/html").querySelector(".team-member");return S[e]=h,h.cloneNode(!0)}).catch(r=>{console.error("Failed to fetch page: ",r)})}function P(e){const r=e.querySelector(".team-member__card-wrapper"),u=e.querySelector(".team-member__card"),d=e.querySelector(".team-member__person"),h=e.querySelector("#team-member-email"),f=e.querySelector("#team-member-phone"),b=e.querySelector("#team-member-linkedin");return{cardWrapper:r,card:u,person:d,emailLink:h,emailLabel:h==null?void 0:h.querySelector("p"),phoneLink:f,phoneLabel:f==null?void 0:f.querySelector("p"),linkedinLink:b,linkedinLabel:b==null?void 0:b.querySelector("p"),content:e.querySelector(".team-member__content")}}},J=l=>{const t=l.querySelector(".team__list"),o=l.querySelector(".team__progress__bar");return c(),t.addEventListener("scroll",c),()=>{t.removeEventListener("scroll",c)};function c(){const i=t.scrollLeft,a=t.scrollWidth,n=t.clientWidth,p=(i+n)/a;o.style.setProperty("--progress",p)}},Q=()=>{const l=document.querySelector(".team");if(l)return x(G(l),U(l),J(l))},Z=(l,t)=>{const p=.050000000000000044,S=(1/(t.length+2)).toFixed(2),m=ScrollTrigger.create({trigger:l,start:"top bottom",end:"bottom top",scrub:!0,onUpdate:C=>{t.forEach((g,v)=>{const q=S*v,T=C.progress-q,L=-200+600*T,k=(.4-T)/p;g.style.setProperty("--translation",`${L}px`),g.style.setProperty("--opacity",k)})}}),s=F(l,m);return()=>{m.kill(),s==null||s()}},ee=(l,t)=>{const o={prev:l.querySelector(".testimonials__button--prev"),next:l.querySelector(".testimonials__button--next")},c="testimonials__entry";t.forEach(m=>{const s=m.querySelector("video");m.pauseVideo=()=>s.pause()});let i=0;return o.prev.addEventListener("click",S),o.next.addEventListener("click",p),a(),()=>{o.prev.removeEventListener("click",S),o.next.removeEventListener("click",p),i=0,a(),n()};function a(){o.prev.classList.toggle("testimonials__button--hidden",i===0),o.next.classList.toggle("testimonials__button--hidden",i===t.length-1)}function n(){t.forEach((m,s)=>{const C=Math.max(s+1-i,0),g=`${c} ${c}--${C}`;s!==i&&m.pauseVideo(),m.classList=g})}function p(){i+=1,n(),a()}function S(){i-=1,n(),a()}},te=()=>{const l=document.querySelector(".testimonials");if(!l)return;const t=l.querySelectorAll(".testimonials__entry");let o;return c(),window.addEventListener("resize",c,{passive:!0}),()=>{o==null||o(),window.removeEventListener("resize",c)};function c(){o==null||o(),o=i()}function i(){return M()?Z(l,t):ee(l,t)}},ae=()=>x(V(),X(),Q(),te(),H());export{ae as useAboutPageScripts,ae as usePageScripts};
