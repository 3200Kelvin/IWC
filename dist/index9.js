import{a as E,c as M,u as O,b as D}from"./index15.js";import{g as I,a as m,e as N}from"./index.js";import"./index6.js";const _=(e,t,n,o)=>{let s=0;e.classList.add("hor-scroll"),n.classList.add("hor-scroll-button"),o.classList.add("hor-scroll-button");const u=new ResizeObserver(f);return u.observe(e),n.addEventListener("click",a),o.addEventListener("click",l),e.addEventListener("scroll",v),v(),()=>{u.disconnect(),n.removeEventListener("click",a),o.removeEventListener("click",l),e.removeEventListener("scroll",v)};function f(){const{left:i}=t[0].getBoundingClientRect(),{left:g}=t[1].getBoundingClientRect();s=g-i}function a(){if(e.scrollLeft<=0){e.scrollLeft=0;return}const i=e.scrollLeft-s;d(i)}function l(){if(e.scrollLeft>=e.scrollWidth-e.clientWidth){e.scrollLeft=e.scrollWidth-e.clientWidth;return}const i=e.scrollLeft+s;d(i)}function d(i){e.scrollTo({left:i,behavior:"smooth"})}function v(i){n.classList.toggle("disabled",e.scrollLeft<=0),o.classList.toggle("disabled",e.scrollLeft>=e.scrollWidth-e.clientWidth)}},H=()=>{const e=document.querySelector(".events");if(!e)return;const t=e.querySelector(".events__list"),n=t.querySelectorAll(".events__entry"),[o,s]=e.querySelectorAll(".arrow-button");return _(t,n,o,s)},$=(e,t,n)=>{const s=e.querySelector(t),u=s.querySelector(n),{durationDesk:f=20,durationTablet:a=f,durationMobile:l=a,direction:d="left"}=e.dataset;e.classList.add("runner"),d==="right"?e.classList.add("runner--right"):d==="top"?e.classList.add("runner--top"):d==="bottom"&&e.classList.add("runner--bottom"),s.classList.add("runner__wrapper"),u.classList.add("runner__entry");let v=!1,i=1,g,p=1,h,y;const S=new ResizeObserver(([r])=>{clearTimeout(h),h=setTimeout(()=>z(r),250)});S.observe(u);const R=new ResizeObserver(([r])=>{clearTimeout(y),y=setTimeout(()=>P(r),250)});return R.observe(s),{toggleRunner:W,cleanup:q};function q(){S.disconnect(),R.disconnect()}function z(r){const c=T(r);(p!==c||!v)&&(A(c),p=c,v=!0)}function P(r){const c=w(r);i!==c&&(x(c),i=c)}function b(){return d==="left"||d==="right"}function T(r){return b()?Math.ceil(e.offsetWidth/r.contentRect.width):Math.ceil(e.offsetHeight/r.contentRect.height)}function w(r){return b()?r.contentRect.width/e.offsetWidth:r.contentRect.height/e.offsetHeight}function x(r){e.style.setProperty("--duration-desk",`${f*r}s`),e.style.setProperty("--duration-tablet",`${a*r}s`),e.style.setProperty("--duration-mobile",`${l*r}s`)}function A(r){if(r>p){const c=r-p;for(let L=0;L<c;L++){const C=u.cloneNode(!0);s.appendChild(C)}}else{const c=p-r;for(let L=0;L<c;L++)s.removeChild(s.lastElementChild)}g&&g.remove(),g=s.cloneNode(!0),s.after(g),e.classList.add("runner--reset"),setTimeout(()=>e.classList.remove("runner--reset"),10)}function W(r=!1){r?e.classList.add("runner--visible"):e.classList.remove("runner--visible")}},F=e=>{const{toggleRunner:t,cleanup:n}=$(e,".past-events__runner",".past-events__runner__entry"),o=I(0,()=>t(!0),()=>t(!1));return o.observe(e),m(n,()=>o.disconnect())},U=e=>{const t=e.querySelectorAll(".past-events__event"),[n,o]=e.querySelectorAll(".arrow-button");if(!n||!o)return;let s=0;return t[0].classList.add("active"),n.addEventListener("click",f),o.addEventListener("click",u),()=>{n.removeEventListener("click",f),o.removeEventListener("click",u)};function u(){const l=(s+1)%t.length;a(l)}function f(){const l=(s-1+t.length)%t.length;a(l)}function a(l){t[s].classList.remove("active"),t[l].classList.add("active"),s=l}},j=e=>{const t=ScrollTrigger.create({trigger:e,start:"top bottom",end:"bottom top",scrub:!0,onUpdate:o=>{const s=o.progress.toFixed(2);e.style.setProperty("--progress",s)}}),n=N(e,t);return()=>{t.kill(),n==null||n()}},G=()=>{const e=document.querySelector(".past-events");if(e)return m(F(e),U(e),j(e))},J=()=>{const e=document.querySelector(".external-media");if(!e)return;const t=e.querySelector(".external-media__list"),n=t.querySelectorAll(".external-media__entry"),[o,s]=e.querySelectorAll(".arrow-button");return _(t,n,o,s)},X=()=>m(M(),E(),H(),G(),J()),Y=()=>m(D(),E(),O());export{Y as useIntelligencePageScripts,X as useMediaPageScripts};
